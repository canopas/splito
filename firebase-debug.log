[debug] [2024-11-18T06:13:01.031Z] ----------------------------------------------------------------------
[debug] [2024-11-18T06:13:01.033Z] Command:       /Users/NiraliSonani/.nvm/versions/node/v18.20.4/bin/node /Users/NiraliSonani/.nvm/versions/node/v18.20.4/bin/firebase deploy --only functions
[debug] [2024-11-18T06:13:01.033Z] CLI Version:   13.23.0
[debug] [2024-11-18T06:13:01.033Z] Platform:      darwin
[debug] [2024-11-18T06:13:01.033Z] Node Version:  v18.20.4
[debug] [2024-11-18T06:13:01.037Z] Time:          Mon Nov 18 2024 11:43:01 GMT+0530 (India Standard Time)
[debug] [2024-11-18T06:13:01.037Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-11-18T06:13:01.067Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-11-18T06:13:01.067Z] > authorizing via signed-in user (nirali.s@canopas.com)
[debug] [2024-11-18T06:13:01.067Z] [iam] checking project splito-canoaps for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-11-18T06:13:01.067Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:01.067Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:01.068Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions [none]
[debug] [2024-11-18T06:13:01.068Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-18T06:13:01.068Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-11-18T06:13:02.645Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions 200
[debug] [2024-11-18T06:13:02.645Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-11-18T06:13:02.645Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:02.646Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:02.646Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/splito-canoaps/serviceAccounts/splito-canoaps@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-11-18T06:13:02.646Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/splito-canoaps/serviceAccounts/splito-canoaps@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-11-18T06:13:04.434Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/splito-canoaps/serviceAccounts/splito-canoaps@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-11-18T06:13:04.435Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/splito-canoaps/serviceAccounts/splito-canoaps@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'splito-canoaps'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] ✔  functions: Finished running predeploy script. 
[debug] [2024-11-18T06:13:09.675Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:09.676Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:09.676Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps [none]
[debug] [2024-11-18T06:13:11.066Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps 200
[debug] [2024-11-18T06:13:11.066Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps {"projectId":"splito-canoaps","projectNumber":"668221500241","displayName":"Splito","name":"projects/splito-canoaps","resources":{"hostingSite":"splito-canoaps","storageBucket":"splito-canoaps.appspot.com","locationId":"asia-south1"},"state":"ACTIVE","etag":"1_38c17f2d-2041-4905-9549-4d61fa5c7cc7"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2024-11-18T06:13:11.068Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:11.069Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:11.069Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:11.069Z] Checked if tokens are valid: true, expires at: 1731912576394
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2024-11-18T06:13:11.069Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:11.069Z] Checked if tokens are valid: true, expires at: 1731912576394
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-11-18T06:13:11.070Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:11.070Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:11.070Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudfunctions.googleapis.com [none]
[debug] [2024-11-18T06:13:11.070Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-18T06:13:11.072Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/runtimeconfig.googleapis.com [none]
[debug] [2024-11-18T06:13:11.072Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-18T06:13:11.073Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudbuild.googleapis.com [none]
[debug] [2024-11-18T06:13:11.073Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudbuild.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-18T06:13:11.074Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/artifactregistry.googleapis.com [none]
[debug] [2024-11-18T06:13:11.074Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/artifactregistry.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-18T06:13:12.992Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudbuild.googleapis.com 200
[debug] [2024-11-18T06:13:12.992Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-11-18T06:13:12.993Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/runtimeconfig.googleapis.com 200
[debug] [2024-11-18T06:13:12.993Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-11-18T06:13:13.001Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudfunctions.googleapis.com 200
[debug] [2024-11-18T06:13:13.001Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-11-18T06:13:13.004Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/artifactregistry.googleapis.com 200
[debug] [2024-11-18T06:13:13.004Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-11-18T06:13:13.005Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:13.005Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:13.005Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps/adminSdkConfig [none]
[debug] [2024-11-18T06:13:14.040Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps/adminSdkConfig 200
[debug] [2024-11-18T06:13:14.041Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps/adminSdkConfig {"projectId":"splito-canoaps","storageBucket":"splito-canoaps.appspot.com","locationId":"asia-south1"}
[debug] [2024-11-18T06:13:14.041Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:14.041Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:14.042Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/splito-canoaps/configs [none]
[debug] [2024-11-18T06:13:14.624Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/splito-canoaps/configs 200
[debug] [2024-11-18T06:13:14.624Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/splito-canoaps/configs {}
[debug] [2024-11-18T06:13:14.625Z] Validating nodejs source
[debug] [2024-11-18T06:13:15.202Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2024-11-18T06:13:15.202Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-11-18T06:13:15.203Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-18T06:13:15.210Z] Found firebase-functions binary at '/Users/NiraliSonani/Desktop/Splito/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8356

[info] {"severity":"DEBUG","message":"Firebase app already initialized"}

[debug] [2024-11-18T06:13:15.394Z] Got response from /__/functions.yaml {"endpoints":{"onGroupWrite":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.written","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"groups/{groupId}"},"retry":false},"entryPoint":"onGroupWrite"},"onActivityCreate":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.created","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"users/{userId}/activity/{activityId}"},"retry":false},"entryPoint":"onActivityCreate"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2024-11-18T06:13:15.404Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:15.404Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:15.404Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/firebaseextensions.googleapis.com [none]
[debug] [2024-11-18T06:13:15.404Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-18T06:13:17.188Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/firebaseextensions.googleapis.com 200
[debug] [2024-11-18T06:13:17.188Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/firebaseextensions.googleapis.com [omitted]
[info] ✔  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2024-11-18T06:13:17.188Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-11-18T06:13:17.189Z] > authorizing via signed-in user (nirali.s@canopas.com)
[debug] [2024-11-18T06:13:17.189Z] [iam] checking project splito-canoaps for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2024-11-18T06:13:17.189Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:17.189Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:17.189Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions [none]
[debug] [2024-11-18T06:13:17.189Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-18T06:13:17.189Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2024-11-18T06:13:18.639Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions 200
[debug] [2024-11-18T06:13:18.640Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2024-11-18T06:13:18.640Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:18.641Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:18.642Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/splito-canoaps/instances pageSize=100&pageToken=
[debug] [2024-11-18T06:13:20.413Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/splito-canoaps/instances 200
[debug] [2024-11-18T06:13:20.413Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/splito-canoaps/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/NiraliSonani/Desktop/Splito/functions (96.61 KB) for uploading 
[debug] [2024-11-18T06:13:20.455Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:20.455Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:20.455Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/splito-canoaps/locations/-/functions [none]
[debug] [2024-11-18T06:13:22.717Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/splito-canoaps/locations/-/functions 200
[debug] [2024-11-18T06:13:22.717Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/splito-canoaps/locations/-/functions {}
[debug] [2024-11-18T06:13:22.717Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:22.718Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:22.718Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-11-18T06:13:25.752Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/-/functions 200
[debug] [2024-11-18T06:13:25.752Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/-/functions {"functions":[{"name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"build":"projects/668221500241/locations/us-central1/builds/ec003dd2-e693-4b21-8a76-03eb5b9af03d","runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1731909759547250"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00015-biw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","updateTime":"2024-11-18T06:03:21.749345449Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"f24b0cb3bd62f9eb4ebd9b8e6d070d33ec459f8e"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite","createTime":"2024-09-06T06:44:15.499692692Z"},{"name":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","buildConfig":{"build":"projects/668221500241/locations/us-central1/builds/ec003dd2-e693-4b21-8a76-03eb5b9af03d","runtime":"nodejs18","entryPoint":"onActivityCreate","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onActivityCreate/function-source.zip","generation":"1731909799015430"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/onactivitycreate","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onActivityCreate","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onActivityCreate","LOG_EXECUTION_ID":"true"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","uri":"https://onactivitycreate-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"onactivitycreate-00010-rur","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/onactivitycreate-466959","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.created","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"users/{userId}/activity/{activityId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-onactivitycreate-466959-387","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","updateTime":"2024-11-18T06:03:26.249129883Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"f24b0cb3bd62f9eb4ebd9b8e6d070d33ec459f8e"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onActivityCreate","createTime":"2024-10-29T05:42:02.355457840Z"}]}
[debug] [2024-11-18T06:13:25.755Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:25.755Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:25.755Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:25.755Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:25.756Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/splito-canoaps/databases/(default) [none]
[debug] [2024-11-18T06:13:25.757Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/splito-canoaps/databases/(default) [none]
[debug] [2024-11-18T06:13:26.203Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/splito-canoaps/databases/(default) 200
[debug] [2024-11-18T06:13:26.203Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/splito-canoaps/databases/(default) {"name":"projects/splito-canoaps/databases/(default)","uid":"6508de26-3cfe-4fac-9d90-62e83a51926a","createTime":"2024-02-26T14:46:06.923009Z","updateTime":"2024-02-26T14:46:06.923009Z","locationId":"asia-south1","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2024-11-18T05:13:26.196052Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"j","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","etag":"ILqRrYSd5YkDMPrDoa7X3IkD"}
[debug] [2024-11-18T06:13:26.222Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/splito-canoaps/databases/(default) 200
[debug] [2024-11-18T06:13:26.222Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/splito-canoaps/databases/(default) {"name":"projects/splito-canoaps/databases/(default)","uid":"6508de26-3cfe-4fac-9d90-62e83a51926a","createTime":"2024-02-26T14:46:06.923009Z","updateTime":"2024-02-26T14:46:06.923009Z","locationId":"asia-south1","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2024-11-18T05:13:26.218060Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"j","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","etag":"IOy+roSd5YkDMPrDoa7X3IkD"}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2024-11-18T06:13:26.225Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:26.225Z] Checked if tokens are valid: true, expires at: 1731912576394
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2024-11-18T06:13:26.225Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:26.225Z] Checked if tokens are valid: true, expires at: 1731912576394
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2024-11-18T06:13:26.225Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:26.225Z] Checked if tokens are valid: true, expires at: 1731912576394
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2024-11-18T06:13:26.225Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:26.225Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:26.226Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/run.googleapis.com [none]
[debug] [2024-11-18T06:13:26.226Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/run.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-18T06:13:26.228Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/eventarc.googleapis.com [none]
[debug] [2024-11-18T06:13:26.228Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/eventarc.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-18T06:13:26.230Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/pubsub.googleapis.com [none]
[debug] [2024-11-18T06:13:26.230Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/pubsub.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-18T06:13:26.232Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/storage.googleapis.com [none]
[debug] [2024-11-18T06:13:26.232Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/storage.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-18T06:13:28.002Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/eventarc.googleapis.com 200
[debug] [2024-11-18T06:13:28.002Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[debug] [2024-11-18T06:13:28.005Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/pubsub.googleapis.com 200
[debug] [2024-11-18T06:13:28.006Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[debug] [2024-11-18T06:13:28.007Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/run.googleapis.com 200
[debug] [2024-11-18T06:13:28.007Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[debug] [2024-11-18T06:13:28.007Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/storage.googleapis.com 200
[debug] [2024-11-18T06:13:28.007Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2024-11-18T06:13:28.008Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:28.008Z] Checked if tokens are valid: true, expires at: 1731912576394
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2024-11-18T06:13:28.008Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:28.008Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:28.008Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/668221500241/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2024-11-18T06:13:28.010Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/668221500241/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2024-11-18T06:13:29.809Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/668221500241/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2024-11-18T06:13:29.809Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/668221500241/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-668221500241@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"100139966785879531278"}}
[debug] [2024-11-18T06:13:29.840Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/668221500241/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2024-11-18T06:13:29.840Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/668221500241/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-668221500241@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"115278907835386553596"}}
[debug] [2024-11-18T06:13:29.844Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:29.844Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:29.845Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps [none]
[debug] [2024-11-18T06:13:30.812Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps 200
[debug] [2024-11-18T06:13:30.812Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps {"projectId":"splito-canoaps","projectNumber":"668221500241","displayName":"Splito","name":"projects/splito-canoaps","resources":{"hostingSite":"splito-canoaps","storageBucket":"splito-canoaps.appspot.com","locationId":"asia-south1"},"state":"ACTIVE","etag":"1_38c17f2d-2041-4905-9549-4d61fa5c7cc7"}
[debug] [2024-11-18T06:13:30.814Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:30.814Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:30.814Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/splito-canoaps/billingInfo [none]
[debug] [2024-11-18T06:13:32.387Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/splito-canoaps/billingInfo 200
[debug] [2024-11-18T06:13:32.387Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/splito-canoaps/billingInfo {"name":"projects/splito-canoaps/billingInfo","projectId":"splito-canoaps","billingAccountName":"billingAccounts/012A8E-EA0148-DB27B0","billingEnabled":true}
[debug] [2024-11-18T06:13:32.389Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:32.389Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:32.389Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-11-18T06:13:33.860Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions:generateUploadUrl 200
[debug] [2024-11-18T06:13:33.860Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com/a0537729-268a-450e-a575-fddc64f21c74.zip?GoogleAccessId=service-668221500241@gcf-admin-robot.iam.gserviceaccount.com&Expires=1731912213&Signature=YIh8GphS7zO1LqpYXsjKz4Y6zYRL%2BQPcGzO5f0HEIiouq1Fi9O95m%2BdcOPUjrQPJpKBXMl1IkaVECkhXEXrovXKJ9vAUGn9%2BDcOl6FrkPDvxRawKQPeDhnf62D8PDdFC7m1cHQoTlFQjDTQrIEo1sb1gJ%2Fnp7lXZjQW4rTGEmVmyB1MTMZz9aCG5NgDtMasN9UKdvAfHjv4uIKQrcL5n4IWH2OLzvHOSrlWWZ%2Fn%2ByWU0vRfAoTThBu6uR5uBjE8r2xidJzIRV7HGTYSEYjcxPhZ%2FBTSA0fqWAoITA04eklto81l2vxI4FRScfvhmDQlKPTqiv%2BSBtP4JB3qnzDe5wQ%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com","object":"a0537729-268a-450e-a575-fddc64f21c74.zip"}}
[debug] [2024-11-18T06:13:33.862Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com/a0537729-268a-450e-a575-fddc64f21c74.zip GoogleAccessId=service-668221500241%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1731912213&Signature=YIh8GphS7zO1LqpYXsjKz4Y6zYRL%2BQPcGzO5f0HEIiouq1Fi9O95m%2BdcOPUjrQPJpKBXMl1IkaVECkhXEXrovXKJ9vAUGn9%2BDcOl6FrkPDvxRawKQPeDhnf62D8PDdFC7m1cHQoTlFQjDTQrIEo1sb1gJ%2Fnp7lXZjQW4rTGEmVmyB1MTMZz9aCG5NgDtMasN9UKdvAfHjv4uIKQrcL5n4IWH2OLzvHOSrlWWZ%2Fn%2ByWU0vRfAoTThBu6uR5uBjE8r2xidJzIRV7HGTYSEYjcxPhZ%2FBTSA0fqWAoITA04eklto81l2vxI4FRScfvhmDQlKPTqiv%2BSBtP4JB3qnzDe5wQ%3D%3D
[debug] [2024-11-18T06:13:33.862Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com/a0537729-268a-450e-a575-fddc64f21c74.zip [stream]
[debug] [2024-11-18T06:13:35.273Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com/a0537729-268a-450e-a575-fddc64f21c74.zip 200
[debug] [2024-11-18T06:13:35.274Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com/a0537729-268a-450e-a575-fddc64f21c74.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 18 (2nd Gen) function onGroupWrite(us-central1)... 
[info] i  functions: updating Node.js 18 (2nd Gen) function onActivityCreate(us-central1)... 
[debug] [2024-11-18T06:13:35.281Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:35.281Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:35.282Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onGroupWrite updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CeventTrigger.eventType%2CeventTrigger.retryPolicy%2CeventTrigger.eventFilters%2CeventTrigger.triggerRegion%2CbuildConfig.buildEnvironmentVariables
[debug] [2024-11-18T06:13:35.282Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onGroupWrite {"name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com","object":"a0537729-268a-450e-a575-fddc64f21c74.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b6c14df32b38bc540373c874c23a22dc5735d7e0"},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.written","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"triggerRegion":"asia-south1"}}
[debug] [2024-11-18T06:13:39.049Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onGroupWrite 200
[debug] [2024-11-18T06:13:39.049Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onGroupWrite {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-18T06:13:38.907288801Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-11-18T06:13:39.050Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:39.050Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:39.051Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 [none]
[debug] [2024-11-18T06:13:40.464Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 200
[debug] [2024-11-18T06:13:40.464Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-18T06:13:38.907288801Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1731910418850872"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00015-biw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b6c14df32b38bc540373c874c23a22dc5735d7e0"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/af2f8d36-17d1-4084-bd0f-0bba28d9f3db","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/af2f8d36-17d1-4084-bd0f-0bba28d9f3db?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/af2f8d36-17d1-4084-bd0f-0bba28d9f3db"},"done":false}
[debug] [2024-11-18T06:13:40.967Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-11-18T06:13:40.968Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:40.968Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:40.968Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 [none]
[debug] [2024-11-18T06:13:42.383Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 200
[debug] [2024-11-18T06:13:42.383Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-18T06:13:38.907288801Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1731910418850872"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00015-biw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b6c14df32b38bc540373c874c23a22dc5735d7e0"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/af2f8d36-17d1-4084-bd0f-0bba28d9f3db","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/af2f8d36-17d1-4084-bd0f-0bba28d9f3db?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/af2f8d36-17d1-4084-bd0f-0bba28d9f3db"},"done":false}
[debug] [2024-11-18T06:13:43.385Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-11-18T06:13:43.386Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:43.386Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:43.386Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 [none]
[debug] [2024-11-18T06:13:44.885Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 200
[debug] [2024-11-18T06:13:44.885Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-18T06:13:38.907288801Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1731910418850872"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00015-biw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b6c14df32b38bc540373c874c23a22dc5735d7e0"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/af2f8d36-17d1-4084-bd0f-0bba28d9f3db","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/af2f8d36-17d1-4084-bd0f-0bba28d9f3db?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/af2f8d36-17d1-4084-bd0f-0bba28d9f3db"},"done":false}
[debug] [2024-11-18T06:13:46.886Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-11-18T06:13:46.886Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:46.887Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:46.887Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 [none]
[debug] [2024-11-18T06:13:48.291Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 200
[debug] [2024-11-18T06:13:48.291Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-18T06:13:38.907288801Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1731910418850872"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00015-biw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b6c14df32b38bc540373c874c23a22dc5735d7e0"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/af2f8d36-17d1-4084-bd0f-0bba28d9f3db","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/af2f8d36-17d1-4084-bd0f-0bba28d9f3db?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/af2f8d36-17d1-4084-bd0f-0bba28d9f3db"},"done":false}
[debug] [2024-11-18T06:13:52.292Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-11-18T06:13:52.293Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:52.293Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:13:52.294Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 [none]
[debug] [2024-11-18T06:13:53.790Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 200
[debug] [2024-11-18T06:13:53.790Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-18T06:13:38.907288801Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1731910418850872"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00015-biw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b6c14df32b38bc540373c874c23a22dc5735d7e0"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/af2f8d36-17d1-4084-bd0f-0bba28d9f3db","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/af2f8d36-17d1-4084-bd0f-0bba28d9f3db?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/af2f8d36-17d1-4084-bd0f-0bba28d9f3db"},"done":false}
[debug] [2024-11-18T06:14:01.791Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-11-18T06:14:01.792Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:01.792Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:01.792Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 [none]
[debug] [2024-11-18T06:14:03.233Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 200
[debug] [2024-11-18T06:14:03.233Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-18T06:13:38.907288801Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1731910418850872"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00015-biw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b6c14df32b38bc540373c874c23a22dc5735d7e0"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/af2f8d36-17d1-4084-bd0f-0bba28d9f3db","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/af2f8d36-17d1-4084-bd0f-0bba28d9f3db?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/af2f8d36-17d1-4084-bd0f-0bba28d9f3db"},"done":false}
[debug] [2024-11-18T06:14:13.235Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-11-18T06:14:13.236Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:13.236Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:13.236Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 [none]
[debug] [2024-11-18T06:14:14.662Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 200
[debug] [2024-11-18T06:14:14.662Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-18T06:13:38.907288801Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1731910418850872"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00015-biw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b6c14df32b38bc540373c874c23a22dc5735d7e0"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/af2f8d36-17d1-4084-bd0f-0bba28d9f3db","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/af2f8d36-17d1-4084-bd0f-0bba28d9f3db?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/af2f8d36-17d1-4084-bd0f-0bba28d9f3db"},"done":false}
[debug] [2024-11-18T06:14:24.664Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-11-18T06:14:24.665Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:24.665Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:24.666Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 [none]
[debug] [2024-11-18T06:14:26.078Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 200
[debug] [2024-11-18T06:14:26.078Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-18T06:13:38.907288801Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1731910418850872"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00015-biw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b6c14df32b38bc540373c874c23a22dc5735d7e0"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/668221500241/locations/us-central1/builds/af2f8d36-17d1-4084-bd0f-0bba28d9f3db","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/af2f8d36-17d1-4084-bd0f-0bba28d9f3db?project=668221500241"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/ongroupwrite?project=splito-canoaps","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]},{"name":"TRIGGER","state":"NOT_STARTED"}],"sourceToken":"Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9hZjJmOGQzNi0xN2QxLTQwODQtYmQwZi0wYmJhMjhkOWYzZGISb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwIvrbruQYQmJLevAEyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/af2f8d36-17d1-4084-bd0f-0bba28d9f3db"},"done":false}
[debug] [2024-11-18T06:14:26.078Z] Got source token Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9hZjJmOGQzNi0xN2QxLTQwODQtYmQwZi0wYmJhMjhkOWYzZGISb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwIvrbruQYQmJLevAEyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2024-11-18T06:14:26.078Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:26.078Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:26.079Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onActivityCreate updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CeventTrigger.eventType%2CeventTrigger.retryPolicy%2CeventTrigger.eventFilters%2CeventTrigger.triggerRegion%2CbuildConfig.buildEnvironmentVariables
[debug] [2024-11-18T06:14:26.079Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onActivityCreate {"name":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","buildConfig":{"runtime":"nodejs18","entryPoint":"onActivityCreate","source":{"storageSource":{"bucket":"gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com","object":"a0537729-268a-450e-a575-fddc64f21c74.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9hZjJmOGQzNi0xN2QxLTQwODQtYmQwZi0wYmJhMjhkOWYzZGISb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwIvrbruQYQmJLevAEyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE="},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onActivityCreate","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onActivityCreate","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b6c14df32b38bc540373c874c23a22dc5735d7e0"},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.created","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"users/{userId}/activity/{activityId}","operator":"match-path-pattern"}],"triggerRegion":"asia-south1"}}
[debug] [2024-11-18T06:14:29.838Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onActivityCreate 200
[debug] [2024-11-18T06:14:29.839Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onActivityCreate {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731910467362-62729d4309f80-3f94afae-cbdc7b0e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-18T06:14:29.696082939Z","target":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-11-18T06:14:29.839Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:29.839Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:29.840Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910467362-62729d4309f80-3f94afae-cbdc7b0e [none]
[debug] [2024-11-18T06:14:31.228Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910467362-62729d4309f80-3f94afae-cbdc7b0e 200
[debug] [2024-11-18T06:14:31.229Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910467362-62729d4309f80-3f94afae-cbdc7b0e {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731910467362-62729d4309f80-3f94afae-cbdc7b0e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-18T06:14:29.696082939Z","target":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","buildConfig":{"runtime":"nodejs18","entryPoint":"onActivityCreate","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onActivityCreate/function-source.zip","generation":"1731910469598357"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9hZjJmOGQzNi0xN2QxLTQwODQtYmQwZi0wYmJhMjhkOWYzZGISb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwIvrbruQYQmJLevAEyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/onactivitycreate","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onActivityCreate","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onActivityCreate","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://onactivitycreate-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"onactivitycreate-00010-rur","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/onactivitycreate-466959","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.created","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"users/{userId}/activity/{activityId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-onactivitycreate-466959-387","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b6c14df32b38bc540373c874c23a22dc5735d7e0"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onActivityCreate"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/668221500241/locations/us-central1/builds/af2f8d36-17d1-4084-bd0f-0bba28d9f3db"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/splito-canoaps/locations/us-central1/services/onactivitycreate","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/onactivitycreate?project=splito-canoaps","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]},{"name":"TRIGGER","state":"NOT_STARTED"}],"sourceToken":"Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9hZjJmOGQzNi0xN2QxLTQwODQtYmQwZi0wYmJhMjhkOWYzZGISb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwIvrbruQYQmJLevAEyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/af2f8d36-17d1-4084-bd0f-0bba28d9f3db"},"done":false}
[debug] [2024-11-18T06:14:31.229Z] Got source token Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9hZjJmOGQzNi0xN2QxLTQwODQtYmQwZi0wYmJhMjhkOWYzZGISb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwIvrbruQYQmJLevAEyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2024-11-18T06:14:31.730Z] [update-default-us-central1-onActivityCreate] Retrying task index 0
[debug] [2024-11-18T06:14:31.731Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:31.731Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:31.731Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910467362-62729d4309f80-3f94afae-cbdc7b0e [none]
[debug] [2024-11-18T06:14:33.144Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910467362-62729d4309f80-3f94afae-cbdc7b0e 200
[debug] [2024-11-18T06:14:33.145Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910467362-62729d4309f80-3f94afae-cbdc7b0e {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731910467362-62729d4309f80-3f94afae-cbdc7b0e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-18T06:14:29.696082939Z","target":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","buildConfig":{"runtime":"nodejs18","entryPoint":"onActivityCreate","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onActivityCreate/function-source.zip","generation":"1731910469598357"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9hZjJmOGQzNi0xN2QxLTQwODQtYmQwZi0wYmJhMjhkOWYzZGISb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwIvrbruQYQmJLevAEyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/onactivitycreate","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onActivityCreate","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onActivityCreate","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://onactivitycreate-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"onactivitycreate-00010-rur","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/onactivitycreate-466959","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.created","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"users/{userId}/activity/{activityId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-onactivitycreate-466959-387","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b6c14df32b38bc540373c874c23a22dc5735d7e0"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onActivityCreate"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/668221500241/locations/us-central1/builds/af2f8d36-17d1-4084-bd0f-0bba28d9f3db"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/splito-canoaps/locations/us-central1/services/onactivitycreate","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/onactivitycreate?project=splito-canoaps","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]},{"name":"TRIGGER","state":"NOT_STARTED"}],"sourceToken":"Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9hZjJmOGQzNi0xN2QxLTQwODQtYmQwZi0wYmJhMjhkOWYzZGISb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwIvrbruQYQmJLevAEyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/af2f8d36-17d1-4084-bd0f-0bba28d9f3db"},"done":false}
[debug] [2024-11-18T06:14:33.146Z] Got source token Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9hZjJmOGQzNi0xN2QxLTQwODQtYmQwZi0wYmJhMjhkOWYzZGISb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwIvrbruQYQmJLevAEyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2024-11-18T06:14:34.147Z] [update-default-us-central1-onActivityCreate] Retrying task index 0
[debug] [2024-11-18T06:14:34.148Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:34.148Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:34.148Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910467362-62729d4309f80-3f94afae-cbdc7b0e [none]
[debug] [2024-11-18T06:14:35.560Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910467362-62729d4309f80-3f94afae-cbdc7b0e 200
[debug] [2024-11-18T06:14:35.560Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910467362-62729d4309f80-3f94afae-cbdc7b0e {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731910467362-62729d4309f80-3f94afae-cbdc7b0e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-18T06:14:29.696082939Z","target":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","buildConfig":{"runtime":"nodejs18","entryPoint":"onActivityCreate","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onActivityCreate/function-source.zip","generation":"1731910469598357"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9hZjJmOGQzNi0xN2QxLTQwODQtYmQwZi0wYmJhMjhkOWYzZGISb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwIvrbruQYQmJLevAEyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/onactivitycreate","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onActivityCreate","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onActivityCreate","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://onactivitycreate-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"onactivitycreate-00010-rur","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/onactivitycreate-466959","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.created","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"users/{userId}/activity/{activityId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-onactivitycreate-466959-387","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b6c14df32b38bc540373c874c23a22dc5735d7e0"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onActivityCreate"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/668221500241/locations/us-central1/builds/af2f8d36-17d1-4084-bd0f-0bba28d9f3db"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/splito-canoaps/locations/us-central1/services/onactivitycreate","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/onactivitycreate?project=splito-canoaps","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]},{"name":"TRIGGER","state":"NOT_STARTED"}],"sourceToken":"Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9hZjJmOGQzNi0xN2QxLTQwODQtYmQwZi0wYmJhMjhkOWYzZGISb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwIvrbruQYQmJLevAEyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/af2f8d36-17d1-4084-bd0f-0bba28d9f3db"},"done":false}
[debug] [2024-11-18T06:14:35.560Z] Got source token Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9hZjJmOGQzNi0xN2QxLTQwODQtYmQwZi0wYmJhMjhkOWYzZGISb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwIvrbruQYQmJLevAEyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2024-11-18T06:14:36.079Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-11-18T06:14:36.080Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:36.080Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:36.080Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 [none]
[debug] [2024-11-18T06:14:37.487Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 200
[debug] [2024-11-18T06:14:37.488Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439 {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731910416580-62729d129bdd6-ffd27d30-a9c7d439","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-18T06:13:38.907288801Z","endTime":"2024-11-18T06:14:32.591332597Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1731910418850872"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00015-biw","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b6c14df32b38bc540373c874c23a22dc5735d7e0"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service ongroupwrite, Container Healthcheck failed. Revision 'ongroupwrite-00016-xiq' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=splito-canoaps&resource=cloud_run_revision/service_name/ongroupwrite/revision_name/ongroupwrite-00016-xiq&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22ongroupwrite%22%0Aresource.labels.revision_name%3D%22ongroupwrite-00016-xiq%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2024-11-18T06:14:37.488Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service ongroupwrite, Container Healthcheck failed. Revision 'ongroupwrite-00016-xiq' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=splito-canoaps&resource=cloud_run_revision/service_name/ongroupwrite/revision_name/ongroupwrite-00016-xiq&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22ongroupwrite%22%0Aresource.labels.revision_name%3D%22ongroupwrite-00016-xiq%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2024-11-18T06:14:37.561Z] [update-default-us-central1-onActivityCreate] Retrying task index 0
[debug] [2024-11-18T06:14:37.562Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:37.562Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:37.562Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910467362-62729d4309f80-3f94afae-cbdc7b0e [none]
[debug] [2024-11-18T06:14:38.995Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910467362-62729d4309f80-3f94afae-cbdc7b0e 200
[debug] [2024-11-18T06:14:38.995Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731910467362-62729d4309f80-3f94afae-cbdc7b0e {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731910467362-62729d4309f80-3f94afae-cbdc7b0e","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-18T06:14:29.696082939Z","endTime":"2024-11-18T06:14:36.330125798Z","target":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","buildConfig":{"runtime":"nodejs18","entryPoint":"onActivityCreate","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onActivityCreate/function-source.zip","generation":"1731910469598357"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy9hZjJmOGQzNi0xN2QxLTQwODQtYmQwZi0wYmJhMjhkOWYzZGISb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwIvrbruQYQmJLevAEyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/onactivitycreate","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onActivityCreate","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onActivityCreate","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://onactivitycreate-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"onactivitycreate-00010-rur","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/onactivitycreate-466959","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.created","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"users/{userId}/activity/{activityId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-onactivitycreate-466959-387","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"b6c14df32b38bc540373c874c23a22dc5735d7e0"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onActivityCreate"},"stages":[{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service onactivitycreate, Container Healthcheck failed. Revision 'onactivitycreate-00011-tew' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=splito-canoaps&resource=cloud_run_revision/service_name/onactivitycreate/revision_name/onactivitycreate-00011-tew&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22onactivitycreate%22%0Aresource.labels.revision_name%3D%22onactivitycreate-00011-tew%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2024-11-18T06:14:38.996Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service onactivitycreate, Container Healthcheck failed. Revision 'onactivitycreate-00011-tew' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=splito-canoaps&resource=cloud_run_revision/service_name/onactivitycreate/revision_name/onactivitycreate-00011-tew&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22onactivitycreate%22%0Aresource.labels.revision_name%3D%22onactivitycreate-00011-tew%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2024-11-18T06:14:39.005Z] Total Function Deployment time: 63718
[debug] [2024-11-18T06:14:39.005Z] 2 Functions Deployed
[debug] [2024-11-18T06:14:39.005Z] 2 Functions Errored
[debug] [2024-11-18T06:14:39.005Z] 0 Function Deployments Aborted
[debug] [2024-11-18T06:14:39.005Z] Average Function Deployment time: 62963
[info] 
[info] Functions deploy had errors with the following functions:
	onActivityCreate(us-central1)
	onGroupWrite(us-central1)
[info] i  functions: cleaning up build files... 
[debug] [2024-11-18T06:14:39.237Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:39.237Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:39.237Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:39.237Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:39.238Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:39.238Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:39.238Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_group_write [none]
[debug] [2024-11-18T06:14:39.240Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_activity_create [none]
[debug] [2024-11-18T06:14:39.241Z] >>> [apiv2][query] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list [none]
[debug] [2024-11-18T06:14:40.045Z] <<< [apiv2][status] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list 404
[debug] [2024-11-18T06:14:40.045Z] <<< [apiv2][body] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-11-18T06:14:40.046Z] Failed docker command with error  Request to https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[debug] [2024-11-18T06:14:40.047Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:40.047Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:40.047Z] >>> [apiv2][query] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list [none]
[debug] [2024-11-18T06:14:40.624Z] <<< [apiv2][status] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list 404
[debug] [2024-11-18T06:14:40.625Z] <<< [apiv2][body] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-11-18T06:14:40.625Z] Failed docker command with error  Request to https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[debug] [2024-11-18T06:14:40.727Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:40.727Z] Checked if tokens are valid: true, expires at: 1731912576394
[debug] [2024-11-18T06:14:40.728Z] >>> [apiv2][query] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list [none]
[debug] [2024-11-18T06:14:40.742Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_group_write 404
[debug] [2024-11-18T06:14:40.742Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_group_write {"error":{"code":404,"message":"Package \"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_group_write\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-11-18T06:14:40.747Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_activity_create 404
[debug] [2024-11-18T06:14:40.747Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_activity_create {"error":{"code":404,"message":"Package \"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_activity_create\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-11-18T06:14:41.283Z] <<< [apiv2][status] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list 404
[debug] [2024-11-18T06:14:41.284Z] <<< [apiv2][body] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-11-18T06:14:41.284Z] Failed docker command with error  Request to https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[warn] ⚠  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/splito-canoaps/us/gcf 
[debug] [2024-11-18T06:14:41.285Z] Functions deploy failed.
[debug] [2024-11-18T06:14:41.285Z] {
  "endpoint": {
    "id": "onGroupWrite",
    "project": "splito-canoaps",
    "region": "us-central1",
    "entryPoint": "onGroupWrite",
    "platform": "gcfv2",
    "runtime": "nodejs18",
    "eventTrigger": {
      "eventType": "google.cloud.firestore.document.v1.written",
      "retry": false,
      "eventFilters": {
        "database": "(default)",
        "namespace": "(default)"
      },
      "eventFilterPathPatterns": {
        "document": "groups/{groupId}"
      },
      "region": "asia-south1"
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}",
      "GCLOUD_PROJECT": "splito-canoaps",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/splito-canoaps/locations/us-central1/services/onGroupWrite",
      "FUNCTION_SIGNATURE_TYPE": "cloudevent",
      "FUNCTION_TARGET": "onGroupWrite",
      "LOG_EXECUTION_ID": "true"
    },
    "codebase": "default",
    "runServiceId": "ongroupwrite",
    "cpu": 1,
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "b6c14df32b38bc540373c874c23a22dc5735d7e0"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service ongroupwrite, Container Healthcheck failed. Revision 'ongroupwrite-00016-xiq' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=splito-canoaps&resource=cloud_run_revision/service_name/ongroupwrite/revision_name/ongroupwrite-00016-xiq&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22ongroupwrite%22%0Aresource.labels.revision_name%3D%22ongroupwrite-00016-xiq%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service ongroupwrite, Container Healthcheck failed. Revision 'ongroupwrite-00016-xiq' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=splito-canoaps&resource=cloud_run_revision/service_name/ongroupwrite/revision_name/ongroupwrite-00016-xiq&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22ongroupwrite%22%0Aresource.labels.revision_name%3D%22ongroupwrite-00016-xiq%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2024-11-18T06:14:41.285Z] {
  "endpoint": {
    "id": "onActivityCreate",
    "project": "splito-canoaps",
    "region": "us-central1",
    "entryPoint": "onActivityCreate",
    "platform": "gcfv2",
    "runtime": "nodejs18",
    "eventTrigger": {
      "eventType": "google.cloud.firestore.document.v1.created",
      "retry": false,
      "eventFilters": {
        "database": "(default)",
        "namespace": "(default)"
      },
      "eventFilterPathPatterns": {
        "document": "users/{userId}/activity/{activityId}"
      },
      "region": "asia-south1"
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}",
      "GCLOUD_PROJECT": "splito-canoaps",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/splito-canoaps/locations/us-central1/services/onActivityCreate",
      "FUNCTION_SIGNATURE_TYPE": "cloudevent",
      "FUNCTION_TARGET": "onActivityCreate",
      "LOG_EXECUTION_ID": "true"
    },
    "codebase": "default",
    "runServiceId": "onactivitycreate",
    "cpu": 1,
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "b6c14df32b38bc540373c874c23a22dc5735d7e0"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service onactivitycreate, Container Healthcheck failed. Revision 'onactivitycreate-00011-tew' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=splito-canoaps&resource=cloud_run_revision/service_name/onactivitycreate/revision_name/onactivitycreate-00011-tew&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22onactivitycreate%22%0Aresource.labels.revision_name%3D%22onactivitycreate-00011-tew%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service onactivitycreate, Container Healthcheck failed. Revision 'onactivitycreate-00011-tew' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=splito-canoaps&resource=cloud_run_revision/service_name/onactivitycreate/revision_name/onactivitycreate-00011-tew&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22onactivitycreate%22%0Aresource.labels.revision_name%3D%22onactivitycreate-00011-tew%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[error] Error: There was an error deploying functions:
[error] - Error Failed to update function onGroupWrite in region us-central1
[error] - Error Failed to update function onActivityCreate in region us-central1
[debug] [2024-11-19T05:10:02.957Z] ----------------------------------------------------------------------
[debug] [2024-11-19T05:10:02.958Z] Command:       /Users/NiraliSonani/.nvm/versions/node/v18.20.4/bin/node /Users/NiraliSonani/.nvm/versions/node/v18.20.4/bin/firebase deploy --only functions
[debug] [2024-11-19T05:10:02.958Z] CLI Version:   13.23.0
[debug] [2024-11-19T05:10:02.958Z] Platform:      darwin
[debug] [2024-11-19T05:10:02.958Z] Node Version:  v18.20.4
[debug] [2024-11-19T05:10:02.959Z] Time:          Tue Nov 19 2024 10:40:02 GMT+0530 (India Standard Time)
[debug] [2024-11-19T05:10:02.959Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-11-19T05:10:02.989Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-11-19T05:10:02.989Z] > authorizing via signed-in user (nirali.s@canopas.com)
[debug] [2024-11-19T05:10:02.989Z] [iam] checking project splito-canoaps for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-11-19T05:10:02.990Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:02.990Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:02.990Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions [none]
[debug] [2024-11-19T05:10:02.990Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-19T05:10:02.990Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-11-19T05:10:04.490Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions 200
[debug] [2024-11-19T05:10:04.491Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-11-19T05:10:04.491Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:04.492Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:04.492Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/splito-canoaps/serviceAccounts/splito-canoaps@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-11-19T05:10:04.492Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/splito-canoaps/serviceAccounts/splito-canoaps@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-11-19T05:10:06.204Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/splito-canoaps/serviceAccounts/splito-canoaps@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-11-19T05:10:06.204Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/splito-canoaps/serviceAccounts/splito-canoaps@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'splito-canoaps'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] ✔  functions: Finished running predeploy script. 
[debug] [2024-11-19T05:10:11.326Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:11.326Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:11.326Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps [none]
[debug] [2024-11-19T05:10:11.805Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps 200
[debug] [2024-11-19T05:10:11.805Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps {"projectId":"splito-canoaps","projectNumber":"668221500241","displayName":"Splito","name":"projects/splito-canoaps","resources":{"hostingSite":"splito-canoaps","storageBucket":"splito-canoaps.appspot.com","locationId":"asia-south1"},"state":"ACTIVE","etag":"1_38c17f2d-2041-4905-9549-4d61fa5c7cc7"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2024-11-19T05:10:11.806Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:11.806Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:11.806Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:11.806Z] Checked if tokens are valid: true, expires at: 1731996474192
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2024-11-19T05:10:11.807Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:11.807Z] Checked if tokens are valid: true, expires at: 1731996474192
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-11-19T05:10:11.807Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:11.807Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:11.807Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudfunctions.googleapis.com [none]
[debug] [2024-11-19T05:10:11.807Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-19T05:10:11.808Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/runtimeconfig.googleapis.com [none]
[debug] [2024-11-19T05:10:11.808Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-19T05:10:11.809Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudbuild.googleapis.com [none]
[debug] [2024-11-19T05:10:11.809Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudbuild.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-19T05:10:11.810Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/artifactregistry.googleapis.com [none]
[debug] [2024-11-19T05:10:11.810Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/artifactregistry.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-19T05:10:13.621Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/runtimeconfig.googleapis.com 200
[debug] [2024-11-19T05:10:13.621Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-11-19T05:10:13.622Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudbuild.googleapis.com 200
[debug] [2024-11-19T05:10:13.622Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-11-19T05:10:13.644Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/artifactregistry.googleapis.com 200
[debug] [2024-11-19T05:10:13.644Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-11-19T05:10:13.655Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudfunctions.googleapis.com 200
[debug] [2024-11-19T05:10:13.655Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-11-19T05:10:13.655Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:13.655Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:13.656Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps/adminSdkConfig [none]
[debug] [2024-11-19T05:10:14.921Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps/adminSdkConfig 200
[debug] [2024-11-19T05:10:14.921Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps/adminSdkConfig {"projectId":"splito-canoaps","storageBucket":"splito-canoaps.appspot.com","locationId":"asia-south1"}
[debug] [2024-11-19T05:10:14.922Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:14.922Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:14.922Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/splito-canoaps/configs [none]
[debug] [2024-11-19T05:10:16.155Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/splito-canoaps/configs 200
[debug] [2024-11-19T05:10:16.156Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/splito-canoaps/configs {}
[debug] [2024-11-19T05:10:16.158Z] Validating nodejs source
[debug] [2024-11-19T05:10:16.691Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2024-11-19T05:10:16.691Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-11-19T05:10:16.692Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-19T05:10:16.699Z] Found firebase-functions binary at '/Users/NiraliSonani/Desktop/Splito/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8175

[info] {"severity":"DEBUG","message":"Firebase app already initialized"}

[debug] [2024-11-19T05:10:17.891Z] Got response from /__/functions.yaml {"endpoints":{"onGroupWrite":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.written","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"groups/{groupId}"},"retry":false},"entryPoint":"onGroupWrite"},"onActivityCreate":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.created","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"users/{userId}/activity/{activityId}"},"retry":false},"entryPoint":"onActivityCreate"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2024-11-19T05:10:17.901Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:17.901Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:17.901Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/firebaseextensions.googleapis.com [none]
[debug] [2024-11-19T05:10:17.901Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-19T05:10:19.726Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/firebaseextensions.googleapis.com 200
[debug] [2024-11-19T05:10:19.727Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/firebaseextensions.googleapis.com [omitted]
[info] ✔  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2024-11-19T05:10:19.727Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-11-19T05:10:19.728Z] > authorizing via signed-in user (nirali.s@canopas.com)
[debug] [2024-11-19T05:10:19.728Z] [iam] checking project splito-canoaps for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2024-11-19T05:10:19.728Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:19.728Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:19.728Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions [none]
[debug] [2024-11-19T05:10:19.728Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-19T05:10:19.728Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2024-11-19T05:10:21.188Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions 200
[debug] [2024-11-19T05:10:21.188Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2024-11-19T05:10:21.189Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:21.189Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:21.190Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/splito-canoaps/instances pageSize=100&pageToken=
[debug] [2024-11-19T05:10:22.828Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/splito-canoaps/instances 200
[debug] [2024-11-19T05:10:22.828Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/splito-canoaps/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/NiraliSonani/Desktop/Splito/functions (96.95 KB) for uploading 
[debug] [2024-11-19T05:10:22.876Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:22.876Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:22.876Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/splito-canoaps/locations/-/functions [none]
[debug] [2024-11-19T05:10:25.041Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/splito-canoaps/locations/-/functions 200
[debug] [2024-11-19T05:10:25.042Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/splito-canoaps/locations/-/functions {}
[debug] [2024-11-19T05:10:25.042Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:25.042Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:25.043Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-11-19T05:10:28.071Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/-/functions 200
[debug] [2024-11-19T05:10:28.071Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/-/functions {"functions":[{"name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"build":"projects/668221500241/locations/us-central1/builds/b84ce71a-55ed-47cc-ac00-83d8ae346277","runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1731992913395651"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00018-fud","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","updateTime":"2024-11-19T05:09:14.462956815Z","labels":{"firebase-functions-hash":"92e7c1e135d781b20f95cf4531e1abb00cad4361","deployment-tool":"cli-firebase"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite","createTime":"2024-09-06T06:44:15.499692692Z"},{"name":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","buildConfig":{"build":"projects/668221500241/locations/us-central1/builds/b84ce71a-55ed-47cc-ac00-83d8ae346277","runtime":"nodejs18","entryPoint":"onActivityCreate","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onActivityCreate/function-source.zip","generation":"1731992952924357"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/onactivitycreate","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onActivityCreate","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onActivityCreate","LOG_EXECUTION_ID":"true"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","uri":"https://onactivitycreate-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"onactivitycreate-00013-man","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/onactivitycreate-466959","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.created","eventFilters":[{"attribute":"document","value":"users/{userId}/activity/{activityId}","operator":"match-path-pattern"},{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-onactivitycreate-466959-387","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","updateTime":"2024-11-19T05:09:21.076699102Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"92e7c1e135d781b20f95cf4531e1abb00cad4361"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onActivityCreate","createTime":"2024-10-29T05:42:02.355457840Z"}]}
[debug] [2024-11-19T05:10:28.075Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:28.075Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:28.075Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:28.075Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:28.075Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/splito-canoaps/databases/(default) [none]
[debug] [2024-11-19T05:10:28.077Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/splito-canoaps/databases/(default) [none]
[debug] [2024-11-19T05:10:28.471Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/splito-canoaps/databases/(default) 200
[debug] [2024-11-19T05:10:28.472Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/splito-canoaps/databases/(default) {"name":"projects/splito-canoaps/databases/(default)","uid":"6508de26-3cfe-4fac-9d90-62e83a51926a","createTime":"2024-02-26T14:46:06.923009Z","updateTime":"2024-02-26T14:46:06.923009Z","locationId":"asia-south1","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2024-11-19T04:10:28.467730Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"j","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","etag":"IJuz3OnQ54kDMPrDoa7X3IkD"}
[debug] [2024-11-19T05:10:28.489Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/splito-canoaps/databases/(default) 200
[debug] [2024-11-19T05:10:28.489Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/splito-canoaps/databases/(default) {"name":"projects/splito-canoaps/databases/(default)","uid":"6508de26-3cfe-4fac-9d90-62e83a51926a","createTime":"2024-02-26T14:46:06.923009Z","updateTime":"2024-02-26T14:46:06.923009Z","locationId":"asia-south1","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2024-11-19T04:10:28.485508Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"j","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","etag":"IIS/3enQ54kDMPrDoa7X3IkD"}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2024-11-19T05:10:28.491Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:28.491Z] Checked if tokens are valid: true, expires at: 1731996474192
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2024-11-19T05:10:28.491Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:28.491Z] Checked if tokens are valid: true, expires at: 1731996474192
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2024-11-19T05:10:28.491Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:28.491Z] Checked if tokens are valid: true, expires at: 1731996474192
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2024-11-19T05:10:28.492Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:28.492Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:28.492Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/run.googleapis.com [none]
[debug] [2024-11-19T05:10:28.492Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/run.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-19T05:10:28.494Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/eventarc.googleapis.com [none]
[debug] [2024-11-19T05:10:28.494Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/eventarc.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-19T05:10:28.496Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/pubsub.googleapis.com [none]
[debug] [2024-11-19T05:10:28.496Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/pubsub.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-19T05:10:28.497Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/storage.googleapis.com [none]
[debug] [2024-11-19T05:10:28.497Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/storage.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-19T05:10:30.278Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/run.googleapis.com 200
[debug] [2024-11-19T05:10:30.278Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[debug] [2024-11-19T05:10:30.279Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/pubsub.googleapis.com 200
[debug] [2024-11-19T05:10:30.280Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[debug] [2024-11-19T05:10:30.406Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/eventarc.googleapis.com 200
[debug] [2024-11-19T05:10:30.406Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[debug] [2024-11-19T05:10:30.413Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/storage.googleapis.com 200
[debug] [2024-11-19T05:10:30.413Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2024-11-19T05:10:30.414Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:30.414Z] Checked if tokens are valid: true, expires at: 1731996474192
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2024-11-19T05:10:30.414Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:30.414Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:30.415Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/668221500241/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2024-11-19T05:10:30.417Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/668221500241/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2024-11-19T05:10:32.202Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/668221500241/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2024-11-19T05:10:32.202Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/668221500241/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-668221500241@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"115278907835386553596"}}
[debug] [2024-11-19T05:10:32.213Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/668221500241/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2024-11-19T05:10:32.213Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/668221500241/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-668221500241@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"100139966785879531278"}}
[debug] [2024-11-19T05:10:32.216Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:32.216Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:32.217Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps [none]
[debug] [2024-11-19T05:10:32.653Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps 200
[debug] [2024-11-19T05:10:32.653Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps {"projectId":"splito-canoaps","projectNumber":"668221500241","displayName":"Splito","name":"projects/splito-canoaps","resources":{"hostingSite":"splito-canoaps","storageBucket":"splito-canoaps.appspot.com","locationId":"asia-south1"},"state":"ACTIVE","etag":"1_38c17f2d-2041-4905-9549-4d61fa5c7cc7"}
[debug] [2024-11-19T05:10:32.655Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:32.655Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:32.655Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/splito-canoaps/billingInfo [none]
[debug] [2024-11-19T05:10:34.122Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/splito-canoaps/billingInfo 200
[debug] [2024-11-19T05:10:34.122Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/splito-canoaps/billingInfo {"name":"projects/splito-canoaps/billingInfo","projectId":"splito-canoaps","billingAccountName":"billingAccounts/012A8E-EA0148-DB27B0","billingEnabled":true}
[debug] [2024-11-19T05:10:34.125Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:34.125Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:34.125Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-11-19T05:10:35.616Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions:generateUploadUrl 200
[debug] [2024-11-19T05:10:35.616Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com/7b638650-c945-4296-8209-03ec70002a5d.zip?GoogleAccessId=service-668221500241@gcf-admin-robot.iam.gserviceaccount.com&Expires=1731994835&Signature=hxnVA0OVrAEpLFWlH7lwRmlQCdOfv%2B693a%2FVDcYFUwaOBW4bSvS6H9MEaglBHJD6DXx41Z0Cl%2BPgp4iSnAfHVYDyUnBSgA5wYL334b7ZwfiJJgLmdwMBkHYd39mx9mfO2gywSCHmzvN75a9B6t%2FyFjjJcvcQ77AQj4YoQh8kv39%2B%2FZOXOZ9koXprnf7H2HTLePqdeibHniTutKc%2FR2FmJFmwhi1wEN2EnAA5mi%2FFPeqojUKlJDpcQNbshmlK8z%2BNht1KW%2FLGftGQ074T0sFd6jzfF5MWeZ7gRWdYEUCydYK1xabq7W3tMWLjAndIXVD1PEjBvHQFvKNsPy7pkJj7og%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com","object":"7b638650-c945-4296-8209-03ec70002a5d.zip"}}
[debug] [2024-11-19T05:10:35.618Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com/7b638650-c945-4296-8209-03ec70002a5d.zip GoogleAccessId=service-668221500241%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1731994835&Signature=hxnVA0OVrAEpLFWlH7lwRmlQCdOfv%2B693a%2FVDcYFUwaOBW4bSvS6H9MEaglBHJD6DXx41Z0Cl%2BPgp4iSnAfHVYDyUnBSgA5wYL334b7ZwfiJJgLmdwMBkHYd39mx9mfO2gywSCHmzvN75a9B6t%2FyFjjJcvcQ77AQj4YoQh8kv39%2B%2FZOXOZ9koXprnf7H2HTLePqdeibHniTutKc%2FR2FmJFmwhi1wEN2EnAA5mi%2FFPeqojUKlJDpcQNbshmlK8z%2BNht1KW%2FLGftGQ074T0sFd6jzfF5MWeZ7gRWdYEUCydYK1xabq7W3tMWLjAndIXVD1PEjBvHQFvKNsPy7pkJj7og%3D%3D
[debug] [2024-11-19T05:10:35.618Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com/7b638650-c945-4296-8209-03ec70002a5d.zip [stream]
[debug] [2024-11-19T05:10:36.967Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com/7b638650-c945-4296-8209-03ec70002a5d.zip 200
[debug] [2024-11-19T05:10:36.967Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com/7b638650-c945-4296-8209-03ec70002a5d.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 18 (2nd Gen) function onGroupWrite(us-central1)... 
[info] i  functions: updating Node.js 18 (2nd Gen) function onActivityCreate(us-central1)... 
[debug] [2024-11-19T05:10:36.977Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:36.977Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:36.977Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onGroupWrite updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CeventTrigger.eventType%2CeventTrigger.retryPolicy%2CeventTrigger.eventFilters%2CeventTrigger.triggerRegion%2CbuildConfig.buildEnvironmentVariables
[debug] [2024-11-19T05:10:36.977Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onGroupWrite {"name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com","object":"7b638650-c945-4296-8209-03ec70002a5d.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"66003d2f6603c4cbfe39c364a6602d0b2df8bf47"},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.written","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"triggerRegion":"asia-south1"}}
[debug] [2024-11-19T05:10:40.970Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onGroupWrite 200
[debug] [2024-11-19T05:10:40.970Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onGroupWrite {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T05:10:40.825819075Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-11-19T05:10:40.971Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:40.972Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:40.972Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829 [none]
[debug] [2024-11-19T05:10:42.472Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829 200
[debug] [2024-11-19T05:10:42.473Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829 {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T05:10:40.825819075Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1731993040679711"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00018-fud","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"66003d2f6603c4cbfe39c364a6602d0b2df8bf47"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/4a887a0e-e010-4914-9444-cbe02d78610f","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/4a887a0e-e010-4914-9444-cbe02d78610f?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/4a887a0e-e010-4914-9444-cbe02d78610f"},"done":false}
[debug] [2024-11-19T05:10:42.974Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-11-19T05:10:42.975Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:42.975Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:42.976Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829 [none]
[debug] [2024-11-19T05:10:44.386Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829 200
[debug] [2024-11-19T05:10:44.386Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829 {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T05:10:40.825819075Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1731993040679711"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00018-fud","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"66003d2f6603c4cbfe39c364a6602d0b2df8bf47"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/4a887a0e-e010-4914-9444-cbe02d78610f","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/4a887a0e-e010-4914-9444-cbe02d78610f?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/4a887a0e-e010-4914-9444-cbe02d78610f"},"done":false}
[debug] [2024-11-19T05:10:45.387Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-11-19T05:10:45.388Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:45.388Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:45.388Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829 [none]
[debug] [2024-11-19T05:10:46.807Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829 200
[debug] [2024-11-19T05:10:46.808Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829 {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T05:10:40.825819075Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1731993040679711"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00018-fud","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"66003d2f6603c4cbfe39c364a6602d0b2df8bf47"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/4a887a0e-e010-4914-9444-cbe02d78610f","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/4a887a0e-e010-4914-9444-cbe02d78610f?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/4a887a0e-e010-4914-9444-cbe02d78610f"},"done":false}
[debug] [2024-11-19T05:10:48.811Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-11-19T05:10:48.811Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:48.812Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:48.812Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829 [none]
[debug] [2024-11-19T05:10:50.225Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829 200
[debug] [2024-11-19T05:10:50.225Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829 {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T05:10:40.825819075Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1731993040679711"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00018-fud","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"66003d2f6603c4cbfe39c364a6602d0b2df8bf47"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/4a887a0e-e010-4914-9444-cbe02d78610f","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/4a887a0e-e010-4914-9444-cbe02d78610f?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/4a887a0e-e010-4914-9444-cbe02d78610f"},"done":false}
[debug] [2024-11-19T05:10:54.227Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-11-19T05:10:54.228Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:54.228Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:10:54.229Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829 [none]
[debug] [2024-11-19T05:10:55.620Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829 200
[debug] [2024-11-19T05:10:55.620Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829 {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T05:10:40.825819075Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1731993040679711"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00018-fud","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"66003d2f6603c4cbfe39c364a6602d0b2df8bf47"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/4a887a0e-e010-4914-9444-cbe02d78610f","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/4a887a0e-e010-4914-9444-cbe02d78610f?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/4a887a0e-e010-4914-9444-cbe02d78610f"},"done":false}
[debug] [2024-11-19T05:11:03.621Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-11-19T05:11:03.622Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:03.622Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:03.622Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829 [none]
[debug] [2024-11-19T05:11:05.045Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829 200
[debug] [2024-11-19T05:11:05.046Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829 {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T05:10:40.825819075Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1731993040679711"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00018-fud","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"66003d2f6603c4cbfe39c364a6602d0b2df8bf47"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/4a887a0e-e010-4914-9444-cbe02d78610f","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/4a887a0e-e010-4914-9444-cbe02d78610f?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/4a887a0e-e010-4914-9444-cbe02d78610f"},"done":false}
[debug] [2024-11-19T05:11:15.048Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-11-19T05:11:15.049Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:15.049Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:15.049Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829 [none]
[debug] [2024-11-19T05:11:16.528Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829 200
[debug] [2024-11-19T05:11:16.529Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829 {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T05:10:40.825819075Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1731993040679711"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00018-fud","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"66003d2f6603c4cbfe39c364a6602d0b2df8bf47"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/668221500241/locations/us-central1/builds/4a887a0e-e010-4914-9444-cbe02d78610f","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/4a887a0e-e010-4914-9444-cbe02d78610f?project=668221500241"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/ongroupwrite?project=splito-canoaps","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]},{"name":"TRIGGER","state":"NOT_STARTED"}],"sourceToken":"Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy80YTg4N2EwZS1lMDEwLTQ5MTQtOTQ0NC1jYmUwMmQ3ODYxMGYSb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwI8LvwuQYQsND6lwMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/4a887a0e-e010-4914-9444-cbe02d78610f"},"done":false}
[debug] [2024-11-19T05:11:16.529Z] Got source token Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy80YTg4N2EwZS1lMDEwLTQ5MTQtOTQ0NC1jYmUwMmQ3ODYxMGYSb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwI8LvwuQYQsND6lwMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2024-11-19T05:11:16.530Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:16.530Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:16.530Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onActivityCreate updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CeventTrigger.eventType%2CeventTrigger.retryPolicy%2CeventTrigger.eventFilters%2CeventTrigger.triggerRegion%2CbuildConfig.buildEnvironmentVariables
[debug] [2024-11-19T05:11:16.530Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onActivityCreate {"name":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","buildConfig":{"runtime":"nodejs18","entryPoint":"onActivityCreate","source":{"storageSource":{"bucket":"gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com","object":"7b638650-c945-4296-8209-03ec70002a5d.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy80YTg4N2EwZS1lMDEwLTQ5MTQtOTQ0NC1jYmUwMmQ3ODYxMGYSb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwI8LvwuQYQsND6lwMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE="},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onActivityCreate","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onActivityCreate","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"66003d2f6603c4cbfe39c364a6602d0b2df8bf47"},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.created","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"users/{userId}/activity/{activityId}","operator":"match-path-pattern"}],"triggerRegion":"asia-south1"}}
[debug] [2024-11-19T05:11:19.281Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onActivityCreate 200
[debug] [2024-11-19T05:11:19.282Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onActivityCreate {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731993077834-6273d102863ee-1bc3c463-72dcd1ef","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T05:11:19.136656857Z","target":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-11-19T05:11:19.282Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:19.282Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:19.283Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993077834-6273d102863ee-1bc3c463-72dcd1ef [none]
[debug] [2024-11-19T05:11:20.705Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993077834-6273d102863ee-1bc3c463-72dcd1ef 200
[debug] [2024-11-19T05:11:20.705Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993077834-6273d102863ee-1bc3c463-72dcd1ef {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731993077834-6273d102863ee-1bc3c463-72dcd1ef","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T05:11:19.136656857Z","target":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","buildConfig":{"runtime":"nodejs18","entryPoint":"onActivityCreate","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onActivityCreate/function-source.zip","generation":"1731993079081762"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy80YTg4N2EwZS1lMDEwLTQ5MTQtOTQ0NC1jYmUwMmQ3ODYxMGYSb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwI8LvwuQYQsND6lwMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/onactivitycreate","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onActivityCreate","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onActivityCreate","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://onactivitycreate-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"onactivitycreate-00013-man","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/onactivitycreate-466959","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.created","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"users/{userId}/activity/{activityId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-onactivitycreate-466959-387","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"66003d2f6603c4cbfe39c364a6602d0b2df8bf47"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onActivityCreate"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/668221500241/locations/us-central1/builds/4a887a0e-e010-4914-9444-cbe02d78610f"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/splito-canoaps/locations/us-central1/services/onactivitycreate","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/onactivitycreate?project=splito-canoaps","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]},{"name":"TRIGGER","state":"NOT_STARTED"}],"sourceToken":"Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy80YTg4N2EwZS1lMDEwLTQ5MTQtOTQ0NC1jYmUwMmQ3ODYxMGYSb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwI8LvwuQYQsND6lwMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/4a887a0e-e010-4914-9444-cbe02d78610f"},"done":false}
[debug] [2024-11-19T05:11:20.706Z] Got source token Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy80YTg4N2EwZS1lMDEwLTQ5MTQtOTQ0NC1jYmUwMmQ3ODYxMGYSb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwI8LvwuQYQsND6lwMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2024-11-19T05:11:21.207Z] [update-default-us-central1-onActivityCreate] Retrying task index 0
[debug] [2024-11-19T05:11:21.208Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:21.208Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:21.209Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993077834-6273d102863ee-1bc3c463-72dcd1ef [none]
[debug] [2024-11-19T05:11:22.636Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993077834-6273d102863ee-1bc3c463-72dcd1ef 200
[debug] [2024-11-19T05:11:22.636Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993077834-6273d102863ee-1bc3c463-72dcd1ef {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731993077834-6273d102863ee-1bc3c463-72dcd1ef","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T05:11:19.136656857Z","target":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","buildConfig":{"runtime":"nodejs18","entryPoint":"onActivityCreate","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onActivityCreate/function-source.zip","generation":"1731993079081762"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy80YTg4N2EwZS1lMDEwLTQ5MTQtOTQ0NC1jYmUwMmQ3ODYxMGYSb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwI8LvwuQYQsND6lwMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/onactivitycreate","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onActivityCreate","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onActivityCreate","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://onactivitycreate-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"onactivitycreate-00013-man","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/onactivitycreate-466959","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.created","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"users/{userId}/activity/{activityId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-onactivitycreate-466959-387","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"66003d2f6603c4cbfe39c364a6602d0b2df8bf47"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onActivityCreate"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/668221500241/locations/us-central1/builds/4a887a0e-e010-4914-9444-cbe02d78610f"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/splito-canoaps/locations/us-central1/services/onactivitycreate","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/onactivitycreate?project=splito-canoaps","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]},{"name":"TRIGGER","state":"NOT_STARTED"}],"sourceToken":"Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy80YTg4N2EwZS1lMDEwLTQ5MTQtOTQ0NC1jYmUwMmQ3ODYxMGYSb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwI8LvwuQYQsND6lwMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/4a887a0e-e010-4914-9444-cbe02d78610f"},"done":false}
[debug] [2024-11-19T05:11:22.636Z] Got source token Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy80YTg4N2EwZS1lMDEwLTQ5MTQtOTQ0NC1jYmUwMmQ3ODYxMGYSb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwI8LvwuQYQsND6lwMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2024-11-19T05:11:23.637Z] [update-default-us-central1-onActivityCreate] Retrying task index 0
[debug] [2024-11-19T05:11:23.638Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:23.638Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:23.639Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993077834-6273d102863ee-1bc3c463-72dcd1ef [none]
[debug] [2024-11-19T05:11:24.079Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993077834-6273d102863ee-1bc3c463-72dcd1ef 200
[debug] [2024-11-19T05:11:24.079Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993077834-6273d102863ee-1bc3c463-72dcd1ef {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731993077834-6273d102863ee-1bc3c463-72dcd1ef","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T05:11:19.136656857Z","target":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","buildConfig":{"runtime":"nodejs18","entryPoint":"onActivityCreate","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onActivityCreate/function-source.zip","generation":"1731993079081762"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy80YTg4N2EwZS1lMDEwLTQ5MTQtOTQ0NC1jYmUwMmQ3ODYxMGYSb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwI8LvwuQYQsND6lwMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/onactivitycreate","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onActivityCreate","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onActivityCreate","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://onactivitycreate-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"onactivitycreate-00013-man","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/onactivitycreate-466959","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.created","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"users/{userId}/activity/{activityId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-onactivitycreate-466959-387","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"66003d2f6603c4cbfe39c364a6602d0b2df8bf47"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onActivityCreate"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/668221500241/locations/us-central1/builds/4a887a0e-e010-4914-9444-cbe02d78610f"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/splito-canoaps/locations/us-central1/services/onactivitycreate","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/onactivitycreate?project=splito-canoaps","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]},{"name":"TRIGGER","state":"NOT_STARTED"}],"sourceToken":"Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy80YTg4N2EwZS1lMDEwLTQ5MTQtOTQ0NC1jYmUwMmQ3ODYxMGYSb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwI8LvwuQYQsND6lwMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/4a887a0e-e010-4914-9444-cbe02d78610f"},"done":false}
[debug] [2024-11-19T05:11:24.080Z] Got source token Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy80YTg4N2EwZS1lMDEwLTQ5MTQtOTQ0NC1jYmUwMmQ3ODYxMGYSb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwI8LvwuQYQsND6lwMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2024-11-19T05:11:26.082Z] [update-default-us-central1-onActivityCreate] Retrying task index 0
[debug] [2024-11-19T05:11:26.083Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:26.083Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:26.083Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993077834-6273d102863ee-1bc3c463-72dcd1ef [none]
[debug] [2024-11-19T05:11:26.532Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-11-19T05:11:26.533Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:26.533Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:26.533Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829 [none]
[debug] [2024-11-19T05:11:27.474Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993077834-6273d102863ee-1bc3c463-72dcd1ef 200
[debug] [2024-11-19T05:11:27.475Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993077834-6273d102863ee-1bc3c463-72dcd1ef {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731993077834-6273d102863ee-1bc3c463-72dcd1ef","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T05:11:19.136656857Z","endTime":"2024-11-19T05:11:26.234989851Z","target":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","buildConfig":{"runtime":"nodejs18","entryPoint":"onActivityCreate","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onActivityCreate/function-source.zip","generation":"1731993079081762"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy80YTg4N2EwZS1lMDEwLTQ5MTQtOTQ0NC1jYmUwMmQ3ODYxMGYSb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwI8LvwuQYQsND6lwMyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/onactivitycreate","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onActivityCreate","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onActivityCreate","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://onactivitycreate-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"onactivitycreate-00013-man","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/onactivitycreate-466959","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.created","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"users/{userId}/activity/{activityId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-onactivitycreate-466959-387","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"66003d2f6603c4cbfe39c364a6602d0b2df8bf47"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onActivityCreate"},"stages":[{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service onactivitycreate, Container Healthcheck failed. Revision 'onactivitycreate-00014-kof' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=splito-canoaps&resource=cloud_run_revision/service_name/onactivitycreate/revision_name/onactivitycreate-00014-kof&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22onactivitycreate%22%0Aresource.labels.revision_name%3D%22onactivitycreate-00014-kof%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2024-11-19T05:11:27.475Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service onactivitycreate, Container Healthcheck failed. Revision 'onactivitycreate-00014-kof' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=splito-canoaps&resource=cloud_run_revision/service_name/onactivitycreate/revision_name/onactivitycreate-00014-kof&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22onactivitycreate%22%0Aresource.labels.revision_name%3D%22onactivitycreate-00014-kof%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2024-11-19T05:11:27.950Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829 200
[debug] [2024-11-19T05:11:27.951Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829 {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1731993038250-6273d0dcc60a0-72c480ec-8a025829","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T05:10:40.825819075Z","endTime":"2024-11-19T05:11:22.019141776Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1731993040679711"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00018-fud","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"66003d2f6603c4cbfe39c364a6602d0b2df8bf47"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service ongroupwrite, Container Healthcheck failed. Revision 'ongroupwrite-00019-yum' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=splito-canoaps&resource=cloud_run_revision/service_name/ongroupwrite/revision_name/ongroupwrite-00019-yum&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22ongroupwrite%22%0Aresource.labels.revision_name%3D%22ongroupwrite-00019-yum%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2024-11-19T05:11:27.951Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service ongroupwrite, Container Healthcheck failed. Revision 'ongroupwrite-00019-yum' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=splito-canoaps&resource=cloud_run_revision/service_name/ongroupwrite/revision_name/ongroupwrite-00019-yum&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22ongroupwrite%22%0Aresource.labels.revision_name%3D%22ongroupwrite-00019-yum%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2024-11-19T05:11:27.959Z] Total Function Deployment time: 50981
[debug] [2024-11-19T05:11:27.959Z] 2 Functions Deployed
[debug] [2024-11-19T05:11:27.959Z] 2 Functions Errored
[debug] [2024-11-19T05:11:27.959Z] 0 Function Deployments Aborted
[debug] [2024-11-19T05:11:27.959Z] Average Function Deployment time: 50740.5
[info] 
[info] Functions deploy had errors with the following functions:
	onActivityCreate(us-central1)
	onGroupWrite(us-central1)
[info] i  functions: cleaning up build files... 
[debug] [2024-11-19T05:11:28.202Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:28.202Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:28.202Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:28.202Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:28.202Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:28.203Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:28.203Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_group_write [none]
[debug] [2024-11-19T05:11:28.205Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_activity_create [none]
[debug] [2024-11-19T05:11:28.206Z] >>> [apiv2][query] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list [none]
[debug] [2024-11-19T05:11:28.785Z] <<< [apiv2][status] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list 404
[debug] [2024-11-19T05:11:28.785Z] <<< [apiv2][body] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-11-19T05:11:28.787Z] Failed docker command with error  Request to https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[debug] [2024-11-19T05:11:28.788Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:28.788Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:28.788Z] >>> [apiv2][query] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list [none]
[debug] [2024-11-19T05:11:29.348Z] <<< [apiv2][status] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list 404
[debug] [2024-11-19T05:11:29.348Z] <<< [apiv2][body] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-11-19T05:11:29.349Z] Failed docker command with error  Request to https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[debug] [2024-11-19T05:11:29.451Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:29.452Z] Checked if tokens are valid: true, expires at: 1731996474192
[debug] [2024-11-19T05:11:29.452Z] >>> [apiv2][query] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list [none]
[debug] [2024-11-19T05:11:29.626Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_activity_create 404
[debug] [2024-11-19T05:11:29.626Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_activity_create {"error":{"code":404,"message":"Package \"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_activity_create\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-11-19T05:11:29.637Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_group_write 404
[debug] [2024-11-19T05:11:29.638Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_group_write {"error":{"code":404,"message":"Package \"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_group_write\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-11-19T05:11:30.020Z] <<< [apiv2][status] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list 404
[debug] [2024-11-19T05:11:30.020Z] <<< [apiv2][body] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-11-19T05:11:30.021Z] Failed docker command with error  Request to https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[warn] ⚠  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/splito-canoaps/us/gcf 
[debug] [2024-11-19T05:11:30.021Z] Functions deploy failed.
[debug] [2024-11-19T05:11:30.022Z] {
  "endpoint": {
    "id": "onActivityCreate",
    "project": "splito-canoaps",
    "region": "us-central1",
    "entryPoint": "onActivityCreate",
    "platform": "gcfv2",
    "runtime": "nodejs18",
    "eventTrigger": {
      "eventType": "google.cloud.firestore.document.v1.created",
      "retry": false,
      "eventFilters": {
        "database": "(default)",
        "namespace": "(default)"
      },
      "eventFilterPathPatterns": {
        "document": "users/{userId}/activity/{activityId}"
      },
      "region": "asia-south1"
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}",
      "GCLOUD_PROJECT": "splito-canoaps",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/splito-canoaps/locations/us-central1/services/onActivityCreate",
      "FUNCTION_SIGNATURE_TYPE": "cloudevent",
      "FUNCTION_TARGET": "onActivityCreate",
      "LOG_EXECUTION_ID": "true"
    },
    "codebase": "default",
    "runServiceId": "onactivitycreate",
    "cpu": 1,
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "66003d2f6603c4cbfe39c364a6602d0b2df8bf47"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service onactivitycreate, Container Healthcheck failed. Revision 'onactivitycreate-00014-kof' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=splito-canoaps&resource=cloud_run_revision/service_name/onactivitycreate/revision_name/onactivitycreate-00014-kof&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22onactivitycreate%22%0Aresource.labels.revision_name%3D%22onactivitycreate-00014-kof%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service onactivitycreate, Container Healthcheck failed. Revision 'onactivitycreate-00014-kof' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=splito-canoaps&resource=cloud_run_revision/service_name/onactivitycreate/revision_name/onactivitycreate-00014-kof&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22onactivitycreate%22%0Aresource.labels.revision_name%3D%22onactivitycreate-00014-kof%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2024-11-19T05:11:30.022Z] {
  "endpoint": {
    "id": "onGroupWrite",
    "project": "splito-canoaps",
    "region": "us-central1",
    "entryPoint": "onGroupWrite",
    "platform": "gcfv2",
    "runtime": "nodejs18",
    "eventTrigger": {
      "eventType": "google.cloud.firestore.document.v1.written",
      "retry": false,
      "eventFilters": {
        "database": "(default)",
        "namespace": "(default)"
      },
      "eventFilterPathPatterns": {
        "document": "groups/{groupId}"
      },
      "region": "asia-south1"
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}",
      "GCLOUD_PROJECT": "splito-canoaps",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/splito-canoaps/locations/us-central1/services/onGroupWrite",
      "FUNCTION_SIGNATURE_TYPE": "cloudevent",
      "FUNCTION_TARGET": "onGroupWrite",
      "LOG_EXECUTION_ID": "true"
    },
    "codebase": "default",
    "runServiceId": "ongroupwrite",
    "cpu": 1,
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "66003d2f6603c4cbfe39c364a6602d0b2df8bf47"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service ongroupwrite, Container Healthcheck failed. Revision 'ongroupwrite-00019-yum' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=splito-canoaps&resource=cloud_run_revision/service_name/ongroupwrite/revision_name/ongroupwrite-00019-yum&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22ongroupwrite%22%0Aresource.labels.revision_name%3D%22ongroupwrite-00019-yum%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service ongroupwrite, Container Healthcheck failed. Revision 'ongroupwrite-00019-yum' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=splito-canoaps&resource=cloud_run_revision/service_name/ongroupwrite/revision_name/ongroupwrite-00019-yum&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22ongroupwrite%22%0Aresource.labels.revision_name%3D%22ongroupwrite-00019-yum%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[error] Error: There was an error deploying functions:
[error] - Error Failed to update function onActivityCreate in region us-central1
[error] - Error Failed to update function onGroupWrite in region us-central1
[debug] [2024-11-19T10:36:59.081Z] ----------------------------------------------------------------------
[debug] [2024-11-19T10:36:59.082Z] Command:       /Users/NiraliSonani/.nvm/versions/node/v18.20.4/bin/node /Users/NiraliSonani/.nvm/versions/node/v18.20.4/bin/firebase deploy --only functions
[debug] [2024-11-19T10:36:59.082Z] CLI Version:   13.23.0
[debug] [2024-11-19T10:36:59.082Z] Platform:      darwin
[debug] [2024-11-19T10:36:59.082Z] Node Version:  v18.20.4
[debug] [2024-11-19T10:36:59.085Z] Time:          Tue Nov 19 2024 16:06:59 GMT+0530 (India Standard Time)
[debug] [2024-11-19T10:36:59.085Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-11-19T10:36:59.086Z] >>> [apiv2][query] GET https://firebase-public.firebaseio.com/cli.json [none]
[debug] [2024-11-19T10:36:59.134Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-11-19T10:36:59.135Z] > authorizing via signed-in user (nirali.s@canopas.com)
[debug] [2024-11-19T10:36:59.135Z] [iam] checking project splito-canoaps for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-11-19T10:36:59.135Z] Checked if tokens are valid: false, expires at: 1731996474192
[debug] [2024-11-19T10:36:59.135Z] Checked if tokens are valid: false, expires at: 1731996474192
[debug] [2024-11-19T10:36:59.135Z] > refreshing access token with scopes: []
[debug] [2024-11-19T10:36:59.136Z] >>> [apiv2][query] POST https://www.googleapis.com/oauth2/v3/token [none]
[debug] [2024-11-19T10:36:59.136Z] >>> [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-11-19T10:36:59.465Z] <<< [apiv2][status] POST https://www.googleapis.com/oauth2/v3/token 200
[debug] [2024-11-19T10:36:59.465Z] <<< [apiv2][body] POST https://www.googleapis.com/oauth2/v3/token [omitted]
[debug] [2024-11-19T10:36:59.479Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions [none]
[debug] [2024-11-19T10:36:59.479Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-19T10:36:59.480Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-11-19T10:36:59.776Z] <<< [apiv2][status] GET https://firebase-public.firebaseio.com/cli.json 200
[debug] [2024-11-19T10:36:59.776Z] <<< [apiv2][body] GET https://firebase-public.firebaseio.com/cli.json {"cloudBuildErrorAfter":1594252800000,"cloudBuildWarnAfter":1590019200000,"defaultNode10After":1594252800000,"minVersion":"3.0.5","node8DeploysDisabledAfter":1613390400000,"node8RuntimeDisabledAfter":1615809600000,"node8WarnAfter":1600128000000}
[debug] [2024-11-19T10:37:01.050Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions 200
[debug] [2024-11-19T10:37:01.051Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-11-19T10:37:01.051Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:01.051Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:01.051Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/splito-canoaps/serviceAccounts/splito-canoaps@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-11-19T10:37:01.051Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/splito-canoaps/serviceAccounts/splito-canoaps@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-11-19T10:37:02.909Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/splito-canoaps/serviceAccounts/splito-canoaps@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-11-19T10:37:02.910Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/splito-canoaps/serviceAccounts/splito-canoaps@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'splito-canoaps'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] ✔  functions: Finished running predeploy script. 
[debug] [2024-11-19T10:37:08.343Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:08.343Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:08.343Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps [none]
[debug] [2024-11-19T10:37:08.971Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps 200
[debug] [2024-11-19T10:37:08.971Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps {"projectId":"splito-canoaps","projectNumber":"668221500241","displayName":"Splito","name":"projects/splito-canoaps","resources":{"hostingSite":"splito-canoaps","storageBucket":"splito-canoaps.appspot.com","locationId":"asia-south1"},"state":"ACTIVE","etag":"1_38c17f2d-2041-4905-9549-4d61fa5c7cc7"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[debug] [2024-11-19T10:37:08.973Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:08.973Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:08.974Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:08.974Z] Checked if tokens are valid: true, expires at: 1732016218465
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[debug] [2024-11-19T10:37:08.974Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:08.974Z] Checked if tokens are valid: true, expires at: 1732016218465
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-11-19T10:37:08.974Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:08.974Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:08.975Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudfunctions.googleapis.com [none]
[debug] [2024-11-19T10:37:08.975Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-19T10:37:08.976Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/runtimeconfig.googleapis.com [none]
[debug] [2024-11-19T10:37:08.977Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-19T10:37:08.978Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudbuild.googleapis.com [none]
[debug] [2024-11-19T10:37:08.978Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudbuild.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-19T10:37:08.979Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/artifactregistry.googleapis.com [none]
[debug] [2024-11-19T10:37:08.979Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/artifactregistry.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-19T10:37:09.609Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudbuild.googleapis.com 200
[debug] [2024-11-19T10:37:09.609Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-11-19T10:37:09.619Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudfunctions.googleapis.com 200
[debug] [2024-11-19T10:37:09.619Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-11-19T10:37:10.856Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/runtimeconfig.googleapis.com 200
[debug] [2024-11-19T10:37:10.856Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-11-19T10:37:10.871Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/artifactregistry.googleapis.com 200
[debug] [2024-11-19T10:37:10.871Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-11-19T10:37:10.872Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:10.872Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:10.872Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps/adminSdkConfig [none]
[debug] [2024-11-19T10:37:12.158Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps/adminSdkConfig 200
[debug] [2024-11-19T10:37:12.159Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps/adminSdkConfig {"projectId":"splito-canoaps","storageBucket":"splito-canoaps.appspot.com","locationId":"asia-south1"}
[debug] [2024-11-19T10:37:12.159Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:12.160Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:12.160Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/splito-canoaps/configs [none]
[debug] [2024-11-19T10:37:13.519Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/splito-canoaps/configs 200
[debug] [2024-11-19T10:37:13.519Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/splito-canoaps/configs {}
[debug] [2024-11-19T10:37:13.522Z] Validating nodejs source
[debug] [2024-11-19T10:37:13.965Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.6.0",
    "firebase-functions": "^6.0.1"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2024-11-19T10:37:13.965Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-11-19T10:37:13.966Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-11-19T10:37:13.974Z] Found firebase-functions binary at '/Users/NiraliSonani/Desktop/Splito/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8560

[info] {"severity":"DEBUG","message":"Firebase app already initialized"}

[debug] [2024-11-19T10:37:15.190Z] Got response from /__/functions.yaml {"endpoints":{"onGroupWrite":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.written","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"groups/{groupId}"},"retry":false},"entryPoint":"onGroupWrite"},"onActivityCreate":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.created","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"users/{userId}/activity/{activityId}"},"retry":false},"entryPoint":"onActivityCreate"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  extensions: ensuring required API firebaseextensions.googleapis.com is enabled... 
[debug] [2024-11-19T10:37:15.201Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:15.201Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:15.201Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/firebaseextensions.googleapis.com [none]
[debug] [2024-11-19T10:37:15.201Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/firebaseextensions.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-19T10:37:16.981Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/firebaseextensions.googleapis.com 200
[debug] [2024-11-19T10:37:16.981Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/firebaseextensions.googleapis.com [omitted]
[info] ✔  extensions: required API firebaseextensions.googleapis.com is enabled 
[debug] [2024-11-19T10:37:16.982Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-11-19T10:37:16.982Z] > authorizing via signed-in user (nirali.s@canopas.com)
[debug] [2024-11-19T10:37:16.982Z] [iam] checking project splito-canoaps for permissions ["firebase.projects.get","firebaseextensions.instances.list"]
[debug] [2024-11-19T10:37:16.983Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:16.983Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:16.983Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions [none]
[debug] [2024-11-19T10:37:16.983Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-19T10:37:16.983Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2024-11-19T10:37:18.444Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions 200
[debug] [2024-11-19T10:37:18.444Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions {"permissions":["firebase.projects.get","firebaseextensions.instances.list"]}
[debug] [2024-11-19T10:37:18.445Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:18.445Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:18.446Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/splito-canoaps/instances pageSize=100&pageToken=
[debug] [2024-11-19T10:37:20.202Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/splito-canoaps/instances 200
[debug] [2024-11-19T10:37:20.203Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/splito-canoaps/instances {}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/NiraliSonani/Desktop/Splito/functions (96.95 KB) for uploading 
[debug] [2024-11-19T10:37:20.252Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:20.252Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:20.253Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/splito-canoaps/locations/-/functions [none]
[debug] [2024-11-19T10:37:22.593Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/splito-canoaps/locations/-/functions 200
[debug] [2024-11-19T10:37:22.593Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/splito-canoaps/locations/-/functions {}
[debug] [2024-11-19T10:37:22.594Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:22.594Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:22.595Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-11-19T10:37:25.555Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/-/functions 200
[debug] [2024-11-19T10:37:25.555Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/-/functions {"functions":[{"name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"build":"projects/668221500241/locations/us-central1/builds/4a887a0e-e010-4914-9444-cbe02d78610f","runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1731993040679711"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00019-yum","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","updateTime":"2024-11-19T05:11:22.028086605Z","labels":{"firebase-functions-hash":"66003d2f6603c4cbfe39c364a6602d0b2df8bf47","deployment-tool":"cli-firebase"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite","createTime":"2024-09-06T06:44:15.499692692Z"},{"name":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","buildConfig":{"build":"projects/668221500241/locations/us-central1/builds/4a887a0e-e010-4914-9444-cbe02d78610f","runtime":"nodejs18","entryPoint":"onActivityCreate","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onActivityCreate/function-source.zip","generation":"1731993079081762"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/onactivitycreate","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onActivityCreate","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onActivityCreate","LOG_EXECUTION_ID":"true"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","uri":"https://onactivitycreate-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"onactivitycreate-00014-kof","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/onactivitycreate-466959","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.created","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"users/{userId}/activity/{activityId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-onactivitycreate-466959-387","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","updateTime":"2024-11-19T05:11:26.242835244Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"66003d2f6603c4cbfe39c364a6602d0b2df8bf47"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onActivityCreate","createTime":"2024-10-29T05:42:02.355457840Z"}]}
[debug] [2024-11-19T10:37:25.558Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:25.558Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:25.558Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:25.558Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:25.558Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/splito-canoaps/databases/(default) [none]
[debug] [2024-11-19T10:37:25.560Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/splito-canoaps/databases/(default) [none]
[debug] [2024-11-19T10:37:25.825Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/splito-canoaps/databases/(default) 200
[debug] [2024-11-19T10:37:25.825Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/splito-canoaps/databases/(default) {"name":"projects/splito-canoaps/databases/(default)","uid":"6508de26-3cfe-4fac-9d90-62e83a51926a","createTime":"2024-02-26T14:46:06.923009Z","updateTime":"2024-02-26T14:46:06.923009Z","locationId":"asia-south1","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2024-11-19T09:37:25.816640Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"j","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","etag":"INuugPSZ6IkDMPrDoa7X3IkD"}
[debug] [2024-11-19T10:37:25.838Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/splito-canoaps/databases/(default) 200
[debug] [2024-11-19T10:37:25.838Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/splito-canoaps/databases/(default) {"name":"projects/splito-canoaps/databases/(default)","uid":"6508de26-3cfe-4fac-9d90-62e83a51926a","createTime":"2024-02-26T14:46:06.923009Z","updateTime":"2024-02-26T14:46:06.923009Z","locationId":"asia-south1","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2024-11-19T09:37:25.834788Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"j","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","etag":"ILS8gfSZ6IkDMPrDoa7X3IkD"}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[debug] [2024-11-19T10:37:25.839Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:25.839Z] Checked if tokens are valid: true, expires at: 1732016218465
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[debug] [2024-11-19T10:37:25.839Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:25.839Z] Checked if tokens are valid: true, expires at: 1732016218465
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[debug] [2024-11-19T10:37:25.839Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:25.839Z] Checked if tokens are valid: true, expires at: 1732016218465
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2024-11-19T10:37:25.840Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:25.840Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:25.840Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/run.googleapis.com [none]
[debug] [2024-11-19T10:37:25.840Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/run.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-19T10:37:25.841Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/eventarc.googleapis.com [none]
[debug] [2024-11-19T10:37:25.841Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/eventarc.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-19T10:37:25.843Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/pubsub.googleapis.com [none]
[debug] [2024-11-19T10:37:25.843Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/pubsub.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-19T10:37:25.844Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/storage.googleapis.com [none]
[debug] [2024-11-19T10:37:25.844Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/storage.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-11-19T10:37:27.626Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/eventarc.googleapis.com 200
[debug] [2024-11-19T10:37:27.626Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[debug] [2024-11-19T10:37:27.629Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/pubsub.googleapis.com 200
[debug] [2024-11-19T10:37:27.629Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[debug] [2024-11-19T10:37:27.636Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/run.googleapis.com 200
[debug] [2024-11-19T10:37:27.636Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[debug] [2024-11-19T10:37:27.641Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/storage.googleapis.com 200
[debug] [2024-11-19T10:37:27.641Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[debug] [2024-11-19T10:37:27.641Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:27.641Z] Checked if tokens are valid: true, expires at: 1732016218465
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2024-11-19T10:37:27.641Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:27.641Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:27.641Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/668221500241/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2024-11-19T10:37:27.643Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/668221500241/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2024-11-19T10:37:29.465Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/668221500241/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2024-11-19T10:37:29.465Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/668221500241/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-668221500241@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"115278907835386553596"}}
[debug] [2024-11-19T10:37:29.471Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/668221500241/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2024-11-19T10:37:29.471Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/668221500241/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-668221500241@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"100139966785879531278"}}
[debug] [2024-11-19T10:37:29.474Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:29.474Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:29.474Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps [none]
[debug] [2024-11-19T10:37:30.173Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps 200
[debug] [2024-11-19T10:37:30.174Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps {"projectId":"splito-canoaps","projectNumber":"668221500241","displayName":"Splito","name":"projects/splito-canoaps","resources":{"hostingSite":"splito-canoaps","storageBucket":"splito-canoaps.appspot.com","locationId":"asia-south1"},"state":"ACTIVE","etag":"1_38c17f2d-2041-4905-9549-4d61fa5c7cc7"}
[debug] [2024-11-19T10:37:30.175Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:30.175Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:30.175Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/splito-canoaps/billingInfo [none]
[debug] [2024-11-19T10:37:31.725Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/splito-canoaps/billingInfo 200
[debug] [2024-11-19T10:37:31.725Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/splito-canoaps/billingInfo {"name":"projects/splito-canoaps/billingInfo","projectId":"splito-canoaps","billingAccountName":"billingAccounts/012A8E-EA0148-DB27B0","billingEnabled":true}
[debug] [2024-11-19T10:37:31.727Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:31.727Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:31.728Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-11-19T10:37:33.235Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions:generateUploadUrl 200
[debug] [2024-11-19T10:37:33.236Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com/d76b7197-b017-4a82-ab6c-fed48c11bbc6.zip?GoogleAccessId=service-668221500241@gcf-admin-robot.iam.gserviceaccount.com&Expires=1732014453&Signature=xs2Mlopy%2BE3US0w1R7ZXusrCgSPAx9JbqWiFH5kHMBDaBxcgHznl032GEzts6%2BPsQukU34aNcxVk5TFv6cwp79rdOWuiFr2FR%2BZjaOFiBitCgMPdjmbZ2ElesohjCae5Od4NRsjav3Nla1gxTrVXTMi0a2tRiiZ49ZhiEKtfz4dIxN90vVwqO8TUDjGvHHvGMMyXlIm0YPphYxmPKWVrwPDWix1SB3ejnffVuZBCAIfpj7VsdMPL7Onpl96frJIZhrSdoCA0GGyTKGgYcGTC5AHFm8iFd3MD%2Bf4KYQrW4NzNh993SDBDQ7IGnAS%2Fp3b2%2B8Aw5ka1bWK%2BpdjyI0QzcA%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com","object":"d76b7197-b017-4a82-ab6c-fed48c11bbc6.zip"}}
[debug] [2024-11-19T10:37:33.238Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com/d76b7197-b017-4a82-ab6c-fed48c11bbc6.zip GoogleAccessId=service-668221500241%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1732014453&Signature=xs2Mlopy%2BE3US0w1R7ZXusrCgSPAx9JbqWiFH5kHMBDaBxcgHznl032GEzts6%2BPsQukU34aNcxVk5TFv6cwp79rdOWuiFr2FR%2BZjaOFiBitCgMPdjmbZ2ElesohjCae5Od4NRsjav3Nla1gxTrVXTMi0a2tRiiZ49ZhiEKtfz4dIxN90vVwqO8TUDjGvHHvGMMyXlIm0YPphYxmPKWVrwPDWix1SB3ejnffVuZBCAIfpj7VsdMPL7Onpl96frJIZhrSdoCA0GGyTKGgYcGTC5AHFm8iFd3MD%2Bf4KYQrW4NzNh993SDBDQ7IGnAS%2Fp3b2%2B8Aw5ka1bWK%2BpdjyI0QzcA%3D%3D
[debug] [2024-11-19T10:37:33.238Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com/d76b7197-b017-4a82-ab6c-fed48c11bbc6.zip [stream]
[debug] [2024-11-19T10:37:34.596Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com/d76b7197-b017-4a82-ab6c-fed48c11bbc6.zip 200
[debug] [2024-11-19T10:37:34.596Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com/d76b7197-b017-4a82-ab6c-fed48c11bbc6.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[info] i  functions: updating Node.js 18 (2nd Gen) function onGroupWrite(us-central1)... 
[info] i  functions: updating Node.js 18 (2nd Gen) function onActivityCreate(us-central1)... 
[debug] [2024-11-19T10:37:34.603Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:34.604Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:34.604Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onGroupWrite updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CeventTrigger.eventType%2CeventTrigger.retryPolicy%2CeventTrigger.eventFilters%2CeventTrigger.triggerRegion%2CbuildConfig.buildEnvironmentVariables
[debug] [2024-11-19T10:37:34.604Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onGroupWrite {"name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com","object":"d76b7197-b017-4a82-ab6c-fed48c11bbc6.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"a76da57de3a64d25ef0d86fced98faf0ddb8af1a"},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.written","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"triggerRegion":"asia-south1"}}
[debug] [2024-11-19T10:37:38.663Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onGroupWrite 200
[debug] [2024-11-19T10:37:38.663Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onGroupWrite {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T10:37:38.517599657Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-11-19T10:37:38.664Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:38.664Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:38.665Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf [none]
[debug] [2024-11-19T10:37:40.094Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf 200
[debug] [2024-11-19T10:37:40.094Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T10:37:38.517599657Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1732012658412097"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00019-yum","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"a76da57de3a64d25ef0d86fced98faf0ddb8af1a"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/1516771f-1501-415d-a9e6-7b7264eedbe2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1516771f-1501-415d-a9e6-7b7264eedbe2?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/1516771f-1501-415d-a9e6-7b7264eedbe2"},"done":false}
[debug] [2024-11-19T10:37:40.596Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-11-19T10:37:40.597Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:40.597Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:40.598Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf [none]
[debug] [2024-11-19T10:37:42.024Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf 200
[debug] [2024-11-19T10:37:42.025Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T10:37:38.517599657Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1732012658412097"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00019-yum","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"a76da57de3a64d25ef0d86fced98faf0ddb8af1a"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/1516771f-1501-415d-a9e6-7b7264eedbe2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1516771f-1501-415d-a9e6-7b7264eedbe2?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/1516771f-1501-415d-a9e6-7b7264eedbe2"},"done":false}
[debug] [2024-11-19T10:37:43.027Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-11-19T10:37:43.027Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:43.028Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:43.028Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf [none]
[debug] [2024-11-19T10:37:44.424Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf 200
[debug] [2024-11-19T10:37:44.425Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T10:37:38.517599657Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1732012658412097"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00019-yum","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"a76da57de3a64d25ef0d86fced98faf0ddb8af1a"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/1516771f-1501-415d-a9e6-7b7264eedbe2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1516771f-1501-415d-a9e6-7b7264eedbe2?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/1516771f-1501-415d-a9e6-7b7264eedbe2"},"done":false}
[debug] [2024-11-19T10:37:46.426Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-11-19T10:37:46.426Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:46.427Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:46.427Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf [none]
[debug] [2024-11-19T10:37:47.840Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf 200
[debug] [2024-11-19T10:37:47.840Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T10:37:38.517599657Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1732012658412097"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00019-yum","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"a76da57de3a64d25ef0d86fced98faf0ddb8af1a"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/1516771f-1501-415d-a9e6-7b7264eedbe2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1516771f-1501-415d-a9e6-7b7264eedbe2?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/1516771f-1501-415d-a9e6-7b7264eedbe2"},"done":false}
[debug] [2024-11-19T10:37:51.841Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-11-19T10:37:51.842Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:51.842Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:37:51.843Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf [none]
[debug] [2024-11-19T10:37:53.282Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf 200
[debug] [2024-11-19T10:37:53.283Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T10:37:38.517599657Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1732012658412097"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00019-yum","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"a76da57de3a64d25ef0d86fced98faf0ddb8af1a"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/1516771f-1501-415d-a9e6-7b7264eedbe2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1516771f-1501-415d-a9e6-7b7264eedbe2?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/1516771f-1501-415d-a9e6-7b7264eedbe2"},"done":false}
[debug] [2024-11-19T10:38:01.284Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-11-19T10:38:01.284Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:01.285Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:01.285Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf [none]
[debug] [2024-11-19T10:38:02.689Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf 200
[debug] [2024-11-19T10:38:02.690Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T10:37:38.517599657Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1732012658412097"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00019-yum","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"a76da57de3a64d25ef0d86fced98faf0ddb8af1a"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/1516771f-1501-415d-a9e6-7b7264eedbe2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1516771f-1501-415d-a9e6-7b7264eedbe2?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/1516771f-1501-415d-a9e6-7b7264eedbe2"},"done":false}
[debug] [2024-11-19T10:38:12.692Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-11-19T10:38:12.693Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:12.693Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:12.694Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf [none]
[debug] [2024-11-19T10:38:14.115Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf 200
[debug] [2024-11-19T10:38:14.115Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T10:37:38.517599657Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1732012658412097"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00019-yum","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"a76da57de3a64d25ef0d86fced98faf0ddb8af1a"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/1516771f-1501-415d-a9e6-7b7264eedbe2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1516771f-1501-415d-a9e6-7b7264eedbe2?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/1516771f-1501-415d-a9e6-7b7264eedbe2"},"done":false}
[debug] [2024-11-19T10:38:24.117Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-11-19T10:38:24.118Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:24.118Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:24.118Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf [none]
[debug] [2024-11-19T10:38:25.621Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf 200
[debug] [2024-11-19T10:38:25.621Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T10:37:38.517599657Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1732012658412097"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00019-yum","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"a76da57de3a64d25ef0d86fced98faf0ddb8af1a"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build finished","state":"COMPLETE","resource":"projects/668221500241/locations/us-central1/builds/1516771f-1501-415d-a9e6-7b7264eedbe2","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/1516771f-1501-415d-a9e6-7b7264eedbe2?project=668221500241"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/ongroupwrite?project=splito-canoaps","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]},{"name":"TRIGGER","state":"NOT_STARTED"}],"sourceToken":"Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy8xNTE2NzcxZi0xNTAxLTQxNWQtYTllNi03YjcyNjRlZWRiZTISb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwImdXxuQYQwKm/kQIyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/1516771f-1501-415d-a9e6-7b7264eedbe2"},"done":false}
[debug] [2024-11-19T10:38:25.621Z] Got source token Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy8xNTE2NzcxZi0xNTAxLTQxNWQtYTllNi03YjcyNjRlZWRiZTISb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwImdXxuQYQwKm/kQIyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2024-11-19T10:38:25.622Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:25.622Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:25.622Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onActivityCreate updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CeventTrigger.eventType%2CeventTrigger.retryPolicy%2CeventTrigger.eventFilters%2CeventTrigger.triggerRegion%2CbuildConfig.buildEnvironmentVariables
[debug] [2024-11-19T10:38:25.622Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onActivityCreate {"name":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","buildConfig":{"runtime":"nodejs18","entryPoint":"onActivityCreate","source":{"storageSource":{"bucket":"gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com","object":"d76b7197-b017-4a82-ab6c-fed48c11bbc6.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"sourceToken":"Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy8xNTE2NzcxZi0xNTAxLTQxNWQtYTllNi03YjcyNjRlZWRiZTISb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwImdXxuQYQwKm/kQIyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE="},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onActivityCreate","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onActivityCreate","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"a76da57de3a64d25ef0d86fced98faf0ddb8af1a"},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.created","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"users/{userId}/activity/{activityId}","operator":"match-path-pattern"}],"triggerRegion":"asia-south1"}}
[debug] [2024-11-19T10:38:29.495Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onActivityCreate 200
[debug] [2024-11-19T10:38:29.496Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onActivityCreate {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1732012706934-62741a224afb8-4bf7d403-2894e6ad","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T10:38:29.351849543Z","target":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-11-19T10:38:29.496Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:29.496Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:29.496Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012706934-62741a224afb8-4bf7d403-2894e6ad [none]
[debug] [2024-11-19T10:38:30.936Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012706934-62741a224afb8-4bf7d403-2894e6ad 200
[debug] [2024-11-19T10:38:30.936Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012706934-62741a224afb8-4bf7d403-2894e6ad {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1732012706934-62741a224afb8-4bf7d403-2894e6ad","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T10:38:29.351849543Z","target":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","buildConfig":{"runtime":"nodejs18","entryPoint":"onActivityCreate","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onActivityCreate/function-source.zip","generation":"1732012709273946"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy8xNTE2NzcxZi0xNTAxLTQxNWQtYTllNi03YjcyNjRlZWRiZTISb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwImdXxuQYQwKm/kQIyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/onactivitycreate","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onActivityCreate","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onActivityCreate","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://onactivitycreate-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"onactivitycreate-00014-kof","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/onactivitycreate-466959","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.created","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"users/{userId}/activity/{activityId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-onactivitycreate-466959-387","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"a76da57de3a64d25ef0d86fced98faf0ddb8af1a"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onActivityCreate"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/668221500241/locations/us-central1/builds/1516771f-1501-415d-a9e6-7b7264eedbe2"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/splito-canoaps/locations/us-central1/services/onactivitycreate","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/onactivitycreate?project=splito-canoaps","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]},{"name":"TRIGGER","state":"NOT_STARTED"}],"sourceToken":"Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy8xNTE2NzcxZi0xNTAxLTQxNWQtYTllNi03YjcyNjRlZWRiZTISb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwImdXxuQYQwKm/kQIyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/1516771f-1501-415d-a9e6-7b7264eedbe2"},"done":false}
[debug] [2024-11-19T10:38:30.936Z] Got source token Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy8xNTE2NzcxZi0xNTAxLTQxNWQtYTllNi03YjcyNjRlZWRiZTISb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwImdXxuQYQwKm/kQIyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2024-11-19T10:38:31.438Z] [update-default-us-central1-onActivityCreate] Retrying task index 0
[debug] [2024-11-19T10:38:31.439Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:31.439Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:31.439Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012706934-62741a224afb8-4bf7d403-2894e6ad [none]
[debug] [2024-11-19T10:38:32.862Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012706934-62741a224afb8-4bf7d403-2894e6ad 200
[debug] [2024-11-19T10:38:32.862Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012706934-62741a224afb8-4bf7d403-2894e6ad {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1732012706934-62741a224afb8-4bf7d403-2894e6ad","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T10:38:29.351849543Z","target":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","buildConfig":{"runtime":"nodejs18","entryPoint":"onActivityCreate","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onActivityCreate/function-source.zip","generation":"1732012709273946"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy8xNTE2NzcxZi0xNTAxLTQxNWQtYTllNi03YjcyNjRlZWRiZTISb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwImdXxuQYQwKm/kQIyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/onactivitycreate","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onActivityCreate","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onActivityCreate","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://onactivitycreate-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"onactivitycreate-00014-kof","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/onactivitycreate-466959","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.created","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"users/{userId}/activity/{activityId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-onactivitycreate-466959-387","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"a76da57de3a64d25ef0d86fced98faf0ddb8af1a"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onActivityCreate"},"stages":[{"name":"BUILD","message":"Reusing build","state":"COMPLETE","resource":"projects/668221500241/locations/us-central1/builds/1516771f-1501-415d-a9e6-7b7264eedbe2"},{"name":"SERVICE","message":"Updating Cloud Run service","state":"IN_PROGRESS","resource":"projects/splito-canoaps/locations/us-central1/services/onactivitycreate","resourceUri":"https://console.cloud.google.com/run/detail/us-central1/onactivitycreate?project=splito-canoaps","stateMessages":[{"severity":"INFO","type":"CloudRunServiceNewRevisionTrafficInfo","message":"A new revision will be deployed serving with 100% traffic."}]},{"name":"TRIGGER","state":"NOT_STARTED"}],"sourceToken":"Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy8xNTE2NzcxZi0xNTAxLTQxNWQtYTllNi03YjcyNjRlZWRiZTISb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwImdXxuQYQwKm/kQIyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/1516771f-1501-415d-a9e6-7b7264eedbe2"},"done":false}
[debug] [2024-11-19T10:38:32.862Z] Got source token Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy8xNTE2NzcxZi0xNTAxLTQxNWQtYTllNi03YjcyNjRlZWRiZTISb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwImdXxuQYQwKm/kQIyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE= for region us-central1
[debug] [2024-11-19T10:38:33.864Z] [update-default-us-central1-onActivityCreate] Retrying task index 0
[debug] [2024-11-19T10:38:33.865Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:33.865Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:33.866Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012706934-62741a224afb8-4bf7d403-2894e6ad [none]
[debug] [2024-11-19T10:38:35.254Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012706934-62741a224afb8-4bf7d403-2894e6ad 200
[debug] [2024-11-19T10:38:35.255Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012706934-62741a224afb8-4bf7d403-2894e6ad {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1732012706934-62741a224afb8-4bf7d403-2894e6ad","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T10:38:29.351849543Z","endTime":"2024-11-19T10:38:34.123817150Z","target":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","buildConfig":{"runtime":"nodejs18","entryPoint":"onActivityCreate","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onActivityCreate/function-source.zip","generation":"1732012709273946"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","sourceToken":"Cldwcm9qZWN0cy82NjgyMjE1MDAyNDEvbG9jYXRpb25zL3VzLWNlbnRyYWwxL2J1aWxkcy8xNTE2NzcxZi0xNTAxLTQxNWQtYTllNi03YjcyNjRlZWRiZTISb3VzLWNlbnRyYWwxLWRvY2tlci5wa2cuZGV2L3NwbGl0by1jYW5vYXBzL2djZi1hcnRpZmFjdHMvc3BsaXRvLS1jYW5vYXBzX191cy0tY2VudHJhbDFfX29uX2dyb3VwX3dyaXRlOnZlcnNpb25fMRjR1uuouRMiRHByb2plY3RzL3NwbGl0by1jYW5vYXBzL2xvY2F0aW9ucy91cy1jZW50cmFsMS9mdW5jdGlvbnMvb25Hcm91cFdyaXRlKgwImdXxuQYQwKm/kQIyCG5vZGVqczE4OnYKI2djci5pby9nYWUtcnVudGltZXMvbm9kZWpzMTg6c3RhYmxlEk91cy1jZW50cmFsMS1kb2NrZXIucGtnLmRldi9zZXJ2ZXJsZXNzLXJ1bnRpbWVzL2dvb2dsZS0yMi1mdWxsL3J1bnRpbWVzL25vZGVqczE4QAE=","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/onactivitycreate","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onActivityCreate","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onActivityCreate","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://onactivitycreate-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"onactivitycreate-00014-kof","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/onactivitycreate-466959","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.created","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"users/{userId}/activity/{activityId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-onactivitycreate-466959-387","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"a76da57de3a64d25ef0d86fced98faf0ddb8af1a"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onActivityCreate"},"stages":[{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service onactivitycreate, Container Healthcheck failed. Revision 'onactivitycreate-00015-zen' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=splito-canoaps&resource=cloud_run_revision/service_name/onactivitycreate/revision_name/onactivitycreate-00015-zen&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22onactivitycreate%22%0Aresource.labels.revision_name%3D%22onactivitycreate-00015-zen%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2024-11-19T10:38:35.255Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service onactivitycreate, Container Healthcheck failed. Revision 'onactivitycreate-00015-zen' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=splito-canoaps&resource=cloud_run_revision/service_name/onactivitycreate/revision_name/onactivitycreate-00015-zen&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22onactivitycreate%22%0Aresource.labels.revision_name%3D%22onactivitycreate-00015-zen%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2024-11-19T10:38:35.622Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-11-19T10:38:35.623Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:35.623Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:35.623Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf [none]
[debug] [2024-11-19T10:38:37.051Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf 200
[debug] [2024-11-19T10:38:37.051Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1732012655904-627419f1a05fd-ad7fede3-73580bcf","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-11-19T10:37:38.517599657Z","endTime":"2024-11-19T10:38:25.911764225Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1732012658412097"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00019-yum","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-055925","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-055925-400","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"a76da57de3a64d25ef0d86fced98faf0ddb8af1a"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Could not create or update Cloud Run service ongroupwrite, Container Healthcheck failed. Revision 'ongroupwrite-00020-pab' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=splito-canoaps&resource=cloud_run_revision/service_name/ongroupwrite/revision_name/ongroupwrite-00020-pab&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22ongroupwrite%22%0Aresource.labels.revision_name%3D%22ongroupwrite-00020-pab%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"}}
[debug] [2024-11-19T10:38:37.051Z] Got source token undefined for region us-central1
[error] Could not create or update Cloud Run service ongroupwrite, Container Healthcheck failed. Revision 'ongroupwrite-00020-pab' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.

Logs URL: https://console.cloud.google.com/logs/viewer?project=splito-canoaps&resource=cloud_run_revision/service_name/ongroupwrite/revision_name/ongroupwrite-00020-pab&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22ongroupwrite%22%0Aresource.labels.revision_name%3D%22ongroupwrite-00020-pab%22 
For more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start
[debug] [2024-11-19T10:38:37.060Z] Total Function Deployment time: 62452
[debug] [2024-11-19T10:38:37.060Z] 2 Functions Deployed
[debug] [2024-11-19T10:38:37.060Z] 2 Functions Errored
[debug] [2024-11-19T10:38:37.060Z] 0 Function Deployments Aborted
[debug] [2024-11-19T10:38:37.060Z] Average Function Deployment time: 61552
[info] 
[info] Functions deploy had errors with the following functions:
	onActivityCreate(us-central1)
	onGroupWrite(us-central1)
[info] i  functions: cleaning up build files... 
[debug] [2024-11-19T10:38:37.287Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:37.288Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:37.288Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:37.288Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:37.289Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:37.289Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:37.289Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_group_write [none]
[debug] [2024-11-19T10:38:37.290Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_activity_create [none]
[debug] [2024-11-19T10:38:37.291Z] >>> [apiv2][query] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list [none]
[debug] [2024-11-19T10:38:38.070Z] <<< [apiv2][status] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list 404
[debug] [2024-11-19T10:38:38.070Z] <<< [apiv2][body] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-11-19T10:38:38.071Z] Failed docker command with error  Request to https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[debug] [2024-11-19T10:38:38.073Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:38.074Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:38.074Z] >>> [apiv2][query] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list [none]
[debug] [2024-11-19T10:38:38.672Z] <<< [apiv2][status] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list 404
[debug] [2024-11-19T10:38:38.673Z] <<< [apiv2][body] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-11-19T10:38:38.673Z] Failed docker command with error  Request to https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[debug] [2024-11-19T10:38:38.775Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:38.776Z] Checked if tokens are valid: true, expires at: 1732016218465
[debug] [2024-11-19T10:38:38.776Z] >>> [apiv2][query] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list [none]
[debug] [2024-11-19T10:38:38.796Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_activity_create 404
[debug] [2024-11-19T10:38:38.797Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_activity_create {"error":{"code":404,"message":"Package \"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_activity_create\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-11-19T10:38:39.016Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_group_write 404
[debug] [2024-11-19T10:38:39.016Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_group_write {"error":{"code":404,"message":"Package \"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_group_write\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-11-19T10:38:39.338Z] <<< [apiv2][status] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list 404
[debug] [2024-11-19T10:38:39.339Z] <<< [apiv2][body] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-11-19T10:38:39.339Z] Failed docker command with error  Request to https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list had HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"Request to https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list had HTTP Error: 404, Not Found","status":404}
[warn] ⚠  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/splito-canoaps/us/gcf 
[debug] [2024-11-19T10:38:39.340Z] Functions deploy failed.
[debug] [2024-11-19T10:38:39.340Z] {
  "endpoint": {
    "id": "onActivityCreate",
    "project": "splito-canoaps",
    "region": "us-central1",
    "entryPoint": "onActivityCreate",
    "platform": "gcfv2",
    "runtime": "nodejs18",
    "eventTrigger": {
      "eventType": "google.cloud.firestore.document.v1.created",
      "retry": false,
      "eventFilters": {
        "database": "(default)",
        "namespace": "(default)"
      },
      "eventFilterPathPatterns": {
        "document": "users/{userId}/activity/{activityId}"
      },
      "region": "asia-south1"
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}",
      "GCLOUD_PROJECT": "splito-canoaps",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/splito-canoaps/locations/us-central1/services/onActivityCreate",
      "FUNCTION_SIGNATURE_TYPE": "cloudevent",
      "FUNCTION_TARGET": "onActivityCreate",
      "LOG_EXECUTION_ID": "true"
    },
    "codebase": "default",
    "runServiceId": "onactivitycreate",
    "cpu": 1,
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "a76da57de3a64d25ef0d86fced98faf0ddb8af1a"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service onactivitycreate, Container Healthcheck failed. Revision 'onactivitycreate-00015-zen' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=splito-canoaps&resource=cloud_run_revision/service_name/onactivitycreate/revision_name/onactivitycreate-00015-zen&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22onactivitycreate%22%0Aresource.labels.revision_name%3D%22onactivitycreate-00015-zen%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service onactivitycreate, Container Healthcheck failed. Revision 'onactivitycreate-00015-zen' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=splito-canoaps&resource=cloud_run_revision/service_name/onactivitycreate/revision_name/onactivitycreate-00015-zen&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22onactivitycreate%22%0Aresource.labels.revision_name%3D%22onactivitycreate-00015-zen%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2024-11-19T10:38:39.340Z] {
  "endpoint": {
    "id": "onGroupWrite",
    "project": "splito-canoaps",
    "region": "us-central1",
    "entryPoint": "onGroupWrite",
    "platform": "gcfv2",
    "runtime": "nodejs18",
    "eventTrigger": {
      "eventType": "google.cloud.firestore.document.v1.written",
      "retry": false,
      "eventFilters": {
        "database": "(default)",
        "namespace": "(default)"
      },
      "eventFilterPathPatterns": {
        "document": "groups/{groupId}"
      },
      "region": "asia-south1"
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}",
      "GCLOUD_PROJECT": "splito-canoaps",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/splito-canoaps/locations/us-central1/services/onGroupWrite",
      "FUNCTION_SIGNATURE_TYPE": "cloudevent",
      "FUNCTION_TARGET": "onGroupWrite",
      "LOG_EXECUTION_ID": "true"
    },
    "codebase": "default",
    "runServiceId": "ongroupwrite",
    "cpu": 1,
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": false,
    "hash": "a76da57de3a64d25ef0d86fced98faf0ddb8af1a"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Could not create or update Cloud Run service ongroupwrite, Container Healthcheck failed. Revision 'ongroupwrite-00020-pab' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=splito-canoaps&resource=cloud_run_revision/service_name/ongroupwrite/revision_name/ongroupwrite-00020-pab&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22ongroupwrite%22%0Aresource.labels.revision_name%3D%22ongroupwrite-00020-pab%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start",
    "original": {
      "code": 3,
      "message": "Could not create or update Cloud Run service ongroupwrite, Container Healthcheck failed. Revision 'ongroupwrite-00020-pab' is not ready and cannot serve traffic. The user-provided container failed to start and listen on the port defined provided by the PORT=8080 environment variable within the allocated timeout. This can happen when the container port is misconfigured or if the timeout is too short. The health check timeout can be extended. Logs for this revision might contain more information.\n\nLogs URL: https://console.cloud.google.com/logs/viewer?project=splito-canoaps&resource=cloud_run_revision/service_name/ongroupwrite/revision_name/ongroupwrite-00020-pab&advancedFilter=resource.type%3D%22cloud_run_revision%22%0Aresource.labels.service_name%3D%22ongroupwrite%22%0Aresource.labels.revision_name%3D%22ongroupwrite-00020-pab%22 \nFor more troubleshooting guidance, see https://cloud.google.com/run/docs/troubleshooting#container-failed-to-start"
    },
    "status": 3,
    "code": 3
  }
}
[error] Error: There was an error deploying functions:
[error] - Error Failed to update function onActivityCreate in region us-central1
[error] - Error Failed to update function onGroupWrite in region us-central1
