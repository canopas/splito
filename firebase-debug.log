[debug] [2024-12-31T08:56:53.101Z] ----------------------------------------------------------------------
[debug] [2024-12-31T08:56:53.103Z] Command:       /opt/homebrew/Cellar/node/23.1.0/bin/node /opt/homebrew/bin/firebase deploy --only functions:onGroupWrite
[debug] [2024-12-31T08:56:53.103Z] CLI Version:   13.15.1
[debug] [2024-12-31T08:56:53.103Z] Platform:      darwin
[debug] [2024-12-31T08:56:53.103Z] Node Version:  v23.1.0
[debug] [2024-12-31T08:56:53.104Z] Time:          Tue Dec 31 2024 14:26:53 GMT+0530 (India Standard Time)
[debug] [2024-12-31T08:56:53.104Z] ----------------------------------------------------------------------
[debug] 
[debug] [2024-12-31T08:56:53.138Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2024-12-31T08:56:53.138Z] > authorizing via signed-in user (amisha.i@canopas.com)
[debug] [2024-12-31T08:56:53.138Z] [iam] checking project splito-canoaps for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2024-12-31T08:56:53.139Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions [none]
[debug] [2024-12-31T08:56:53.139Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions x-goog-quota-user=projects/splito-canoaps
[debug] [2024-12-31T08:56:53.139Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-12-31T08:56:54.677Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions 200
[debug] [2024-12-31T08:56:54.678Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/splito-canoaps:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2024-12-31T08:56:54.678Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/splito-canoaps/serviceAccounts/splito-canoaps@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2024-12-31T08:56:54.678Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/splito-canoaps/serviceAccounts/splito-canoaps@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2024-12-31T08:56:56.386Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/splito-canoaps/serviceAccounts/splito-canoaps@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2024-12-31T08:56:56.387Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/splito-canoaps/serviceAccounts/splito-canoaps@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'splito-canoaps'...
[info] 
[info] i  deploying functions 
[info] Running command: npm --prefix "$RESOURCE_DIR" run lint
[info] Running command: npm --prefix "$RESOURCE_DIR" run build
[info] ✔  functions: Finished running predeploy script. 
[debug] [2024-12-31T08:57:01.708Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps [none]
[debug] [2024-12-31T08:57:02.324Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps 200
[debug] [2024-12-31T08:57:02.324Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps {"projectId":"splito-canoaps","projectNumber":"668221500241","displayName":"Splito","name":"projects/splito-canoaps","resources":{"hostingSite":"splito-canoaps","storageBucket":"splito-canoaps.appspot.com","locationId":"asia-south1"},"state":"ACTIVE","etag":"1_38c17f2d-2041-4905-9549-4d61fa5c7cc7"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2024-12-31T08:57:02.326Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudfunctions.googleapis.com [none]
[debug] [2024-12-31T08:57:02.326Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-12-31T08:57:02.328Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/runtimeconfig.googleapis.com [none]
[debug] [2024-12-31T08:57:02.328Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-12-31T08:57:02.330Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudbuild.googleapis.com [none]
[debug] [2024-12-31T08:57:02.330Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudbuild.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-12-31T08:57:02.331Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/artifactregistry.googleapis.com [none]
[debug] [2024-12-31T08:57:02.331Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/artifactregistry.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-12-31T08:57:04.206Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudfunctions.googleapis.com 200
[debug] [2024-12-31T08:57:04.207Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudfunctions.googleapis.com [omitted]
[info] ✔  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2024-12-31T08:57:04.212Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/runtimeconfig.googleapis.com 200
[debug] [2024-12-31T08:57:04.212Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/runtimeconfig.googleapis.com [omitted]
[debug] [2024-12-31T08:57:04.214Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudbuild.googleapis.com 200
[debug] [2024-12-31T08:57:04.214Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/cloudbuild.googleapis.com [omitted]
[info] ✔  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2024-12-31T08:57:04.223Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/artifactregistry.googleapis.com 200
[debug] [2024-12-31T08:57:04.223Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/artifactregistry.googleapis.com [omitted]
[info] ✔  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2024-12-31T08:57:04.223Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps/adminSdkConfig [none]
[debug] [2024-12-31T08:57:05.209Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps/adminSdkConfig 200
[debug] [2024-12-31T08:57:05.210Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps/adminSdkConfig {"projectId":"splito-canoaps","storageBucket":"splito-canoaps.appspot.com","locationId":"asia-south1"}
[debug] [2024-12-31T08:57:05.226Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/splito-canoaps/configs [none]
[debug] [2024-12-31T08:57:05.678Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/splito-canoaps/configs 200
[debug] [2024-12-31T08:57:05.679Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/splito-canoaps/configs {}
[debug] [2024-12-31T08:57:05.681Z] Validating nodejs source
[warn] ⚠  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] ⚠  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2024-12-31T08:57:06.158Z] > [functions] package.json contents: {
  "name": "functions",
  "scripts": {
    "lint": "eslint --ext .js,.ts .",
    "build": "tsc",
    "clean": "rm -rf lib && rm -rf node_modules",
    "build:watch": "tsc --watch",
    "serve": "npm run build && firebase emulators:start --only functions",
    "shell": "npm run build && firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "18"
  },
  "main": "lib/index.js",
  "dependencies": {
    "firebase-admin": "^12.7.0",
    "firebase-functions": "^6.2.0",
    "lodash": "^4.17.21"
  },
  "devDependencies": {
    "@typescript-eslint/eslint-plugin": "^5.12.0",
    "@typescript-eslint/parser": "^5.12.0",
    "eslint": "^8.9.0",
    "eslint-config-google": "^0.14.0",
    "eslint-plugin-import": "^2.25.4",
    "firebase-functions-test": "^3.1.0",
    "typescript": "^4.9.0"
  },
  "private": true
}
[debug] [2024-12-31T08:57:06.158Z] Building nodejs source
[info] i  functions: Loading and analyzing source code for codebase default to determine what to deploy 
[debug] [2024-12-31T08:57:06.159Z] Could not find functions.yaml. Must use http discovery
[debug] [2024-12-31T08:57:06.164Z] Found firebase-functions binary at '/Users/amisha/Documents/Splito/functions/node_modules/.bin/firebase-functions'
[info] Serving at port 8617

[info] {"severity":"INFO","message":"Firebase app initialized in users_service"}

[info] {"severity":"DEBUG","message":"Firebase app already initialized"}

[debug] [2024-12-31T08:57:06.399Z] Got response from /__/functions.yaml {"endpoints":{"onGroupWrite":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.written","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"groups/{groupId}"},"retry":false},"entryPoint":"onGroupWrite"},"onActivityCreate":{"availableMemoryMb":null,"timeoutSeconds":null,"minInstances":null,"maxInstances":null,"ingressSettings":null,"concurrency":null,"serviceAccountEmail":null,"vpc":null,"platform":"gcfv2","labels":{},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.created","eventFilters":{"database":"(default)","namespace":"(default)"},"eventFilterPathPatterns":{"document":"users/{userId}/activity/{activityId}"},"retry":false},"entryPoint":"onActivityCreate"}},"specVersion":"v1alpha1","requiredAPIs":[],"extensions":{}}
[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged /Users/amisha/Documents/Splito/functions (103.72 KB) for uploading 
[debug] [2024-12-31T08:57:10.472Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/splito-canoaps/locations/-/functions [none]
[debug] [2024-12-31T08:57:11.463Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/splito-canoaps/locations/-/functions 200
[debug] [2024-12-31T08:57:11.463Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/splito-canoaps/locations/-/functions {}
[debug] [2024-12-31T08:57:11.465Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2024-12-31T08:57:13.219Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/-/functions 200
[debug] [2024-12-31T08:57:13.219Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/-/functions {"functions":[{"name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"build":"projects/668221500241/locations/us-central1/builds/94239b80-1622-4194-8539-6f59e1a05a5f","runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1733206995318368"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1733206995318368"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00009-jop","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-342004","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"},{"attribute":"database","value":"(default)"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-342004-876","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","updateTime":"2024-12-31T08:49:49.766189935Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"625f343ca220215f497d0a5a8342813f1ced1fc4"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite","createTime":"2024-12-03T05:00:11.981991315Z"},{"name":"projects/splito-canoaps/locations/us-central1/functions/onActivityCreate","buildConfig":{"build":"projects/668221500241/locations/us-central1/builds/94239b80-1622-4194-8539-6f59e1a05a5f","runtime":"nodejs18","entryPoint":"onActivityCreate","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onActivityCreate/function-source.zip","generation":"1733207046369177"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onActivityCreate/function-source.zip","generation":"1733207046369177"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/onactivitycreate","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onActivityCreate","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onActivityCreate","LOG_EXECUTION_ID":"true"},"maxInstanceCount":100,"ingressSettings":"ALLOW_ALL","uri":"https://onactivitycreate-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"onactivitycreate-00010-fox","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/onactivitycreate-757668","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.created","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"users/{userId}/activity/{activityId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-onactivitycreate-757668-070","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","updateTime":"2024-12-31T08:29:52.205378648Z","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"625f343ca220215f497d0a5a8342813f1ced1fc4"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onActivityCreate","createTime":"2024-12-02T14:19:58.046673824Z"}]}
[debug] [2024-12-31T08:57:13.222Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/splito-canoaps/databases/(default) [none]
[debug] [2024-12-31T08:57:13.223Z] >>> [apiv2][query] GET https://firestore.googleapis.com/v1/projects/splito-canoaps/databases/(default) [none]
[debug] [2024-12-31T08:57:13.623Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/splito-canoaps/databases/(default) 200
[debug] [2024-12-31T08:57:13.624Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/splito-canoaps/databases/(default) {"name":"projects/splito-canoaps/databases/(default)","uid":"6508de26-3cfe-4fac-9d90-62e83a51926a","createTime":"2024-02-26T14:46:06.923009Z","updateTime":"2024-02-26T14:46:06.923009Z","locationId":"asia-south1","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2024-12-31T07:57:13.717014Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"j","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","etag":"INT18evR0YoDMPrDoa7X3IkD"}
[debug] [2024-12-31T08:57:13.758Z] <<< [apiv2][status] GET https://firestore.googleapis.com/v1/projects/splito-canoaps/databases/(default) 200
[debug] [2024-12-31T08:57:13.758Z] <<< [apiv2][body] GET https://firestore.googleapis.com/v1/projects/splito-canoaps/databases/(default) {"name":"projects/splito-canoaps/databases/(default)","uid":"6508de26-3cfe-4fac-9d90-62e83a51926a","createTime":"2024-02-26T14:46:06.923009Z","updateTime":"2024-02-26T14:46:06.923009Z","locationId":"asia-south1","type":"FIRESTORE_NATIVE","concurrencyMode":"PESSIMISTIC","versionRetentionPeriod":"3600s","earliestVersionTime":"2024-12-31T07:57:13.849416Z","appEngineIntegrationMode":"DISABLED","keyPrefix":"j","pointInTimeRecoveryEnablement":"POINT_IN_TIME_RECOVERY_DISABLED","deleteProtectionState":"DELETE_PROTECTION_DISABLED","etag":"IO3/+evR0YoDMPrDoa7X3IkD"}
[info] i  functions: ensuring required API run.googleapis.com is enabled... 
[info] i  functions: ensuring required API eventarc.googleapis.com is enabled... 
[info] i  functions: ensuring required API pubsub.googleapis.com is enabled... 
[info] i  functions: ensuring required API storage.googleapis.com is enabled... 
[debug] [2024-12-31T08:57:13.760Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/run.googleapis.com [none]
[debug] [2024-12-31T08:57:13.761Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/run.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-12-31T08:57:13.762Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/eventarc.googleapis.com [none]
[debug] [2024-12-31T08:57:13.762Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/eventarc.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-12-31T08:57:13.763Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/pubsub.googleapis.com [none]
[debug] [2024-12-31T08:57:13.763Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/pubsub.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-12-31T08:57:13.764Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/storage.googleapis.com [none]
[debug] [2024-12-31T08:57:13.764Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/storage.googleapis.com x-goog-quota-user=projects/splito-canoaps
[debug] [2024-12-31T08:57:15.524Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/eventarc.googleapis.com 200
[debug] [2024-12-31T08:57:15.524Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/eventarc.googleapis.com [omitted]
[info] ✔  functions: required API eventarc.googleapis.com is enabled 
[debug] [2024-12-31T08:57:15.533Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/storage.googleapis.com 200
[debug] [2024-12-31T08:57:15.533Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/storage.googleapis.com [omitted]
[info] ✔  functions: required API storage.googleapis.com is enabled 
[debug] [2024-12-31T08:57:15.534Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/pubsub.googleapis.com 200
[debug] [2024-12-31T08:57:15.534Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/pubsub.googleapis.com [omitted]
[info] ✔  functions: required API pubsub.googleapis.com is enabled 
[debug] [2024-12-31T08:57:15.556Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/run.googleapis.com 200
[debug] [2024-12-31T08:57:15.556Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/splito-canoaps/services/run.googleapis.com [omitted]
[info] ✔  functions: required API run.googleapis.com is enabled 
[info] i  functions: generating the service identity for pubsub.googleapis.com... 
[info] i  functions: generating the service identity for eventarc.googleapis.com... 
[debug] [2024-12-31T08:57:15.558Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/668221500241/services/pubsub.googleapis.com:generateServiceIdentity [none]
[debug] [2024-12-31T08:57:15.558Z] >>> [apiv2][query] POST https://serviceusage.googleapis.com/v1beta1/projects/668221500241/services/eventarc.googleapis.com:generateServiceIdentity [none]
[debug] [2024-12-31T08:57:16.001Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/668221500241/services/pubsub.googleapis.com:generateServiceIdentity 200
[debug] [2024-12-31T08:57:16.001Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/668221500241/services/pubsub.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-668221500241@gcp-sa-pubsub.iam.gserviceaccount.com","uniqueId":"115278907835386553596"}}
[debug] [2024-12-31T08:57:17.265Z] <<< [apiv2][status] POST https://serviceusage.googleapis.com/v1beta1/projects/668221500241/services/eventarc.googleapis.com:generateServiceIdentity 200
[debug] [2024-12-31T08:57:17.265Z] <<< [apiv2][body] POST https://serviceusage.googleapis.com/v1beta1/projects/668221500241/services/eventarc.googleapis.com:generateServiceIdentity {"name":"operations/finished.DONE_OPERATION","done":true,"response":{"@type":"type.googleapis.com/google.api.serviceusage.v1beta1.ServiceIdentity","email":"service-668221500241@gcp-sa-eventarc.iam.gserviceaccount.com","uniqueId":"100139966785879531278"}}
[debug] [2024-12-31T08:57:17.269Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps [none]
[debug] [2024-12-31T08:57:17.770Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps 200
[debug] [2024-12-31T08:57:17.771Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/splito-canoaps {"projectId":"splito-canoaps","projectNumber":"668221500241","displayName":"Splito","name":"projects/splito-canoaps","resources":{"hostingSite":"splito-canoaps","storageBucket":"splito-canoaps.appspot.com","locationId":"asia-south1"},"state":"ACTIVE","etag":"1_38c17f2d-2041-4905-9549-4d61fa5c7cc7"}
[debug] [2024-12-31T08:57:17.772Z] >>> [apiv2][query] GET https://cloudbilling.googleapis.com/v1/projects/splito-canoaps/billingInfo [none]
[debug] [2024-12-31T08:57:19.607Z] <<< [apiv2][status] GET https://cloudbilling.googleapis.com/v1/projects/splito-canoaps/billingInfo 200
[debug] [2024-12-31T08:57:19.607Z] <<< [apiv2][body] GET https://cloudbilling.googleapis.com/v1/projects/splito-canoaps/billingInfo {"name":"projects/splito-canoaps/billingInfo","projectId":"splito-canoaps","billingAccountName":"billingAccounts/012A8E-EA0148-DB27B0","billingEnabled":true}
[debug] [2024-12-31T08:57:19.611Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2024-12-31T08:57:21.121Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions:generateUploadUrl 200
[debug] [2024-12-31T08:57:21.121Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com/6955cd39-f26e-4807-a144-936e1ac21371.zip?GoogleAccessId=service-668221500241@gcf-admin-robot.iam.gserviceaccount.com&Expires=1735637241&Signature=aL9mXfwFZfzX1Jm%2BI00z3masmeoBX6JUs5mZ2tYUYLlMwcBYCQclcV6jnVh%2Bpxz%2BOLbHe2PtF9r35EUtPDNoFymFl1qaMtp3KBL%2F3qCyLo4qH98XbC6lJF2aWuQYQBEEI4owA%2FJ4CVgGET%2Ba1FSstuY90JLhaz8HJHCaaRd%2BuhX5YVDMX2QoMTXrNVKUDvZZlEw2cMiQ0lkZd9LUvurYtMuW6gkNJ2eQl4RLpHcdm6Jg7ZoL6Ag9p%2Fv6Oauybi6P6kZf48LW0TB7b0JHOYXLb3vITfliapAHAvPHNwRK88%2FqrkETxHMbpVXS46EbmwJH5YX56U6iuv%2BovwlniGVEEQ%3D%3D","storageSource":{"bucket":"gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com","object":"6955cd39-f26e-4807-a144-936e1ac21371.zip"}}
[debug] [2024-12-31T08:57:21.123Z] >>> [apiv2][query] PUT https://storage.googleapis.com/gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com/6955cd39-f26e-4807-a144-936e1ac21371.zip GoogleAccessId=service-668221500241%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1735637241&Signature=aL9mXfwFZfzX1Jm%2BI00z3masmeoBX6JUs5mZ2tYUYLlMwcBYCQclcV6jnVh%2Bpxz%2BOLbHe2PtF9r35EUtPDNoFymFl1qaMtp3KBL%2F3qCyLo4qH98XbC6lJF2aWuQYQBEEI4owA%2FJ4CVgGET%2Ba1FSstuY90JLhaz8HJHCaaRd%2BuhX5YVDMX2QoMTXrNVKUDvZZlEw2cMiQ0lkZd9LUvurYtMuW6gkNJ2eQl4RLpHcdm6Jg7ZoL6Ag9p%2Fv6Oauybi6P6kZf48LW0TB7b0JHOYXLb3vITfliapAHAvPHNwRK88%2FqrkETxHMbpVXS46EbmwJH5YX56U6iuv%2BovwlniGVEEQ%3D%3D
[debug] [2024-12-31T08:57:21.124Z] >>> [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com/6955cd39-f26e-4807-a144-936e1ac21371.zip [stream]
[debug] [2024-12-31T08:57:22.701Z] <<< [apiv2][status] PUT https://storage.googleapis.com/gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com/6955cd39-f26e-4807-a144-936e1ac21371.zip 200
[debug] [2024-12-31T08:57:22.702Z] <<< [apiv2][body] PUT https://storage.googleapis.com/gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com/6955cd39-f26e-4807-a144-936e1ac21371.zip [omitted]
[info] ✔  functions: functions folder uploaded successfully 
[debug] [2024-12-31T08:57:22.912Z] >>> [apiv2][query] GET https://firebaseextensions.googleapis.com/v1beta/projects/splito-canoaps/instances pageSize=100&pageToken=
[debug] [2024-12-31T08:57:24.634Z] <<< [apiv2][status] GET https://firebaseextensions.googleapis.com/v1beta/projects/splito-canoaps/instances 200
[debug] [2024-12-31T08:57:24.635Z] <<< [apiv2][body] GET https://firebaseextensions.googleapis.com/v1beta/projects/splito-canoaps/instances {}
[info] i  functions: updating Node.js 18 (2nd Gen) function onGroupWrite(us-central1)... 
[debug] [2024-12-31T08:57:24.643Z] >>> [apiv2][query] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onGroupWrite updateMask=name%2CbuildConfig.runtime%2CbuildConfig.entryPoint%2CbuildConfig.source.storageSource.bucket%2CbuildConfig.source.storageSource.object%2CbuildConfig.environmentVariables%2CbuildConfig.sourceToken%2CserviceConfig.environmentVariables%2CserviceConfig.ingressSettings%2CserviceConfig.timeoutSeconds%2CserviceConfig.serviceAccountEmail%2CserviceConfig.availableMemory%2CserviceConfig.minInstanceCount%2CserviceConfig.maxInstanceCount%2CserviceConfig.maxInstanceRequestConcurrency%2CserviceConfig.availableCpu%2CserviceConfig.vpcConnector%2CserviceConfig.vpcConnectorEgressSettings%2Clabels%2CeventTrigger.eventType%2CeventTrigger.retryPolicy%2CeventTrigger.eventFilters%2CeventTrigger.triggerRegion%2CbuildConfig.buildEnvironmentVariables
[debug] [2024-12-31T08:57:24.644Z] >>> [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onGroupWrite {"name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-uploads-668221500241.us-central1.cloudfunctions.appspot.com","object":"6955cd39-f26e-4807-a144-936e1ac21371.zip"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""}},"serviceConfig":{"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":null,"timeoutSeconds":null,"serviceAccountEmail":null,"availableMemory":"256Mi","minInstanceCount":null,"maxInstanceCount":null,"maxInstanceRequestConcurrency":80,"availableCpu":"1","vpcConnector":null,"vpcConnectorEgressSettings":null},"labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d0ad0caaa21faf0797926dc92c9796f65d8f9d82"},"eventTrigger":{"eventType":"google.cloud.firestore.document.v1.written","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"triggerRegion":"asia-south1"}}
[debug] [2024-12-31T08:57:27.585Z] <<< [apiv2][status] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onGroupWrite 200
[debug] [2024-12-31T08:57:27.585Z] <<< [apiv2][body] PATCH https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/functions/onGroupWrite {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-31T08:57:27.536246177Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2"},"done":false}
[debug] [2024-12-31T08:57:27.586Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59 [none]
[debug] [2024-12-31T08:57:28.952Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59 200
[debug] [2024-12-31T08:57:28.953Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59 {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-31T08:57:27.536246177Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1735635447461966"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1733206995318368"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00009-jop","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-342004","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-342004-876","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d0ad0caaa21faf0797926dc92c9796f65d8f9d82"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/f6c1f7b7-633a-4d7f-aeff-9756ef08cb20","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/f6c1f7b7-633a-4d7f-aeff-9756ef08cb20?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/f6c1f7b7-633a-4d7f-aeff-9756ef08cb20"},"done":false}
[debug] [2024-12-31T08:57:29.455Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-12-31T08:57:29.455Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59 [none]
[debug] [2024-12-31T08:57:30.920Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59 200
[debug] [2024-12-31T08:57:30.920Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59 {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-31T08:57:27.536246177Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1735635447461966"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1733206995318368"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00009-jop","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-342004","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-342004-876","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d0ad0caaa21faf0797926dc92c9796f65d8f9d82"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/f6c1f7b7-633a-4d7f-aeff-9756ef08cb20","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/f6c1f7b7-633a-4d7f-aeff-9756ef08cb20?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/f6c1f7b7-633a-4d7f-aeff-9756ef08cb20"},"done":false}
[debug] [2024-12-31T08:57:31.922Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-12-31T08:57:31.923Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59 [none]
[debug] [2024-12-31T08:57:33.457Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59 200
[debug] [2024-12-31T08:57:33.457Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59 {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-31T08:57:27.536246177Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1735635447461966"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1733206995318368"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00009-jop","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-342004","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-342004-876","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d0ad0caaa21faf0797926dc92c9796f65d8f9d82"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/f6c1f7b7-633a-4d7f-aeff-9756ef08cb20","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/f6c1f7b7-633a-4d7f-aeff-9756ef08cb20?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/f6c1f7b7-633a-4d7f-aeff-9756ef08cb20"},"done":false}
[debug] [2024-12-31T08:57:35.458Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-12-31T08:57:35.459Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59 [none]
[debug] [2024-12-31T08:57:36.833Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59 200
[debug] [2024-12-31T08:57:36.835Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59 {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-31T08:57:27.536246177Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1735635447461966"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1733206995318368"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00009-jop","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-342004","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-342004-876","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d0ad0caaa21faf0797926dc92c9796f65d8f9d82"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/f6c1f7b7-633a-4d7f-aeff-9756ef08cb20","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/f6c1f7b7-633a-4d7f-aeff-9756ef08cb20?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/f6c1f7b7-633a-4d7f-aeff-9756ef08cb20"},"done":false}
[debug] [2024-12-31T08:57:40.837Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-12-31T08:57:40.837Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59 [none]
[debug] [2024-12-31T08:57:42.184Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59 200
[debug] [2024-12-31T08:57:42.184Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59 {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-31T08:57:27.536246177Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1735635447461966"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1733206995318368"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00009-jop","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-342004","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-342004-876","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d0ad0caaa21faf0797926dc92c9796f65d8f9d82"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/f6c1f7b7-633a-4d7f-aeff-9756ef08cb20","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/f6c1f7b7-633a-4d7f-aeff-9756ef08cb20?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/f6c1f7b7-633a-4d7f-aeff-9756ef08cb20"},"done":false}
[debug] [2024-12-31T08:57:50.185Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-12-31T08:57:50.186Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59 [none]
[debug] [2024-12-31T08:57:51.609Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59 200
[debug] [2024-12-31T08:57:51.610Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59 {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-31T08:57:27.536246177Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1735635447461966"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1733206995318368"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00009-jop","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-342004","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-342004-876","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d0ad0caaa21faf0797926dc92c9796f65d8f9d82"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/f6c1f7b7-633a-4d7f-aeff-9756ef08cb20","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/f6c1f7b7-633a-4d7f-aeff-9756ef08cb20?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/f6c1f7b7-633a-4d7f-aeff-9756ef08cb20"},"done":false}
[debug] [2024-12-31T08:58:01.611Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-12-31T08:58:01.613Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59 [none]
[debug] [2024-12-31T08:58:02.127Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59 200
[debug] [2024-12-31T08:58:02.127Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59 {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-31T08:57:27.536246177Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1735635447461966"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1733206995318368"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00009-jop","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-342004","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-342004-876","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d0ad0caaa21faf0797926dc92c9796f65d8f9d82"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"BUILD","message":"Build in progress","state":"IN_PROGRESS","resource":"projects/668221500241/locations/us-central1/builds/f6c1f7b7-633a-4d7f-aeff-9756ef08cb20","resourceUri":"https://console.cloud.google.com/cloud-build/builds;region=us-central1/f6c1f7b7-633a-4d7f-aeff-9756ef08cb20?project=668221500241"},{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION","buildName":"projects/668221500241/locations/us-central1/builds/f6c1f7b7-633a-4d7f-aeff-9756ef08cb20"},"done":false}
[debug] [2024-12-31T08:58:12.128Z] [update-default-us-central1-onGroupWrite] Retrying task index 0
[debug] [2024-12-31T08:58:12.129Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59 [none]
[debug] [2024-12-31T08:58:13.684Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59 200
[debug] [2024-12-31T08:58:13.684Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59 {"name":"projects/splito-canoaps/locations/us-central1/operations/operation-1735635446000-62a8d1e37ed53-54892b9a-723c3f59","metadata":{"@type":"type.googleapis.com/google.cloud.functions.v2.OperationMetadata","createTime":"2024-12-31T08:57:27.536246177Z","endTime":"2024-12-31T08:58:07.396465913Z","target":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","verb":"update","cancelRequested":false,"apiVersion":"v2","requestResource":{"@type":"type.googleapis.com/google.cloud.functions.v2.Function","name":"projects/splito-canoaps/locations/us-central1/functions/onGroupWrite","buildConfig":{"runtime":"nodejs18","entryPoint":"onGroupWrite","source":{"storageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1735635447461966"}},"environmentVariables":{"GOOGLE_NODE_RUN_SCRIPTS":""},"dockerRepository":"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts","sourceProvenance":{"resolvedStorageSource":{"bucket":"gcf-v2-sources-668221500241-us-central1","object":"onGroupWrite/function-source.zip","generation":"1733206995318368"}},"dockerRegistry":"ARTIFACT_REGISTRY","serviceAccount":"projects/splito-canoaps/serviceAccounts/668221500241-compute@developer.gserviceaccount.com","automaticUpdatePolicy":{}},"serviceConfig":{"service":"projects/splito-canoaps/locations/us-central1/services/ongroupwrite","timeoutSeconds":60,"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}","GCLOUD_PROJECT":"splito-canoaps","EVENTARC_CLOUD_EVENT_SOURCE":"projects/splito-canoaps/locations/us-central1/services/onGroupWrite","FUNCTION_SIGNATURE_TYPE":"cloudevent","FUNCTION_TARGET":"onGroupWrite","LOG_EXECUTION_ID":"true"},"ingressSettings":"ALLOW_ALL","uri":"https://ongroupwrite-z5zhj42rrq-uc.a.run.app","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","availableMemory":"256Mi","allTrafficOnLatestRevision":true,"revision":"ongroupwrite-00009-jop","maxInstanceRequestConcurrency":80,"availableCpu":"1"},"eventTrigger":{"trigger":"projects/splito-canoaps/locations/asia-south1/triggers/ongroupwrite-342004","triggerRegion":"asia-south1","eventType":"google.cloud.firestore.document.v1.written","eventFilters":[{"attribute":"database","value":"(default)"},{"attribute":"namespace","value":"(default)"},{"attribute":"document","value":"groups/{groupId}","operator":"match-path-pattern"}],"pubsubTopic":"projects/splito-canoaps/topics/eventarc-asia-south1-ongroupwrite-342004-876","serviceAccountEmail":"668221500241-compute@developer.gserviceaccount.com","retryPolicy":"RETRY_POLICY_DO_NOT_RETRY"},"state":"ACTIVE","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"d0ad0caaa21faf0797926dc92c9796f65d8f9d82"},"environment":"GEN_2","url":"https://us-central1-splito-canoaps.cloudfunctions.net/onGroupWrite"},"stages":[{"name":"SERVICE","state":"NOT_STARTED"},{"name":"TRIGGER","state":"NOT_STARTED"}],"operationType":"UPDATE_FUNCTION"},"done":true,"error":{"code":3,"message":"Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's firebase-admin@12.4.0 does not satisfy firebase-admin@12.7.0\nnpm error Invalid: lock file's firebase-functions@5.1.1 does not satisfy firebase-functions@6.2.0\nnpm error Invalid: lock file's @firebase/database-compat@1.0.7 does not satisfy @firebase/database-compat@1.0.8\nnpm error Invalid: lock file's @firebase/database-types@1.0.4 does not satisfy @firebase/database-types@1.0.5\nnpm error Invalid: lock file's @firebase/component@0.6.8 does not satisfy @firebase/component@0.6.9\nnpm error Invalid: lock file's @firebase/database@1.0.7 does not satisfy @firebase/database@1.0.8\nnpm error Invalid: lock file's @firebase/util@1.9.7 does not satisfy @firebase/util@1.10.0\nnpm error Invalid: lock file's tslib@2.7.0 does not satisfy tslib@2.8.1\nnpm error Invalid: lock file's @types/express@4.17.3 does not satisfy @types/express@4.17.21\nnpm error Invalid: lock file's express@4.19.2 does not satisfy express@4.21.2\nnpm error Invalid: lock file's body-parser@1.20.2 does not satisfy body-parser@1.20.3\nnpm error Invalid: lock file's cookie@0.6.0 does not satisfy cookie@0.7.1\nnpm error Invalid: lock file's encodeurl@1.0.2 does not satisfy encodeurl@2.0.0\nnpm error Invalid: lock file's finalhandler@1.2.0 does not satisfy finalhandler@1.3.1\nnpm error Invalid: lock file's merge-descriptors@1.0.1 does not satisfy merge-descriptors@1.0.3\nnpm error Invalid: lock file's path-to-regexp@0.1.7 does not satisfy path-to-regexp@0.1.12\nnpm error Invalid: lock file's qs@6.11.0 does not satisfy qs@6.13.0\nnpm error Invalid: lock file's send@0.18.0 does not satisfy send@0.19.0\nnpm error Invalid: lock file's serve-static@1.15.0 does not satisfy serve-static@1.16.2\nnpm error Missing: encodeurl@1.0.2 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-12-31T08_57_49_497Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/f6c1f7b7-633a-4d7f-aeff-9756ef08cb20?project=668221500241."}}
[debug] [2024-12-31T08:58:13.684Z] Got source token undefined for region us-central1
[error] Build failed with status: FAILURE and message: npm error code EUSAGE
npm error
npm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.
npm error
npm error Invalid: lock file's firebase-admin@12.4.0 does not satisfy firebase-admin@12.7.0
npm error Invalid: lock file's firebase-functions@5.1.1 does not satisfy firebase-functions@6.2.0
npm error Invalid: lock file's @firebase/database-compat@1.0.7 does not satisfy @firebase/database-compat@1.0.8
npm error Invalid: lock file's @firebase/database-types@1.0.4 does not satisfy @firebase/database-types@1.0.5
npm error Invalid: lock file's @firebase/component@0.6.8 does not satisfy @firebase/component@0.6.9
npm error Invalid: lock file's @firebase/database@1.0.7 does not satisfy @firebase/database@1.0.8
npm error Invalid: lock file's @firebase/util@1.9.7 does not satisfy @firebase/util@1.10.0
npm error Invalid: lock file's tslib@2.7.0 does not satisfy tslib@2.8.1
npm error Invalid: lock file's @types/express@4.17.3 does not satisfy @types/express@4.17.21
npm error Invalid: lock file's express@4.19.2 does not satisfy express@4.21.2
npm error Invalid: lock file's body-parser@1.20.2 does not satisfy body-parser@1.20.3
npm error Invalid: lock file's cookie@0.6.0 does not satisfy cookie@0.7.1
npm error Invalid: lock file's encodeurl@1.0.2 does not satisfy encodeurl@2.0.0
npm error Invalid: lock file's finalhandler@1.2.0 does not satisfy finalhandler@1.3.1
npm error Invalid: lock file's merge-descriptors@1.0.1 does not satisfy merge-descriptors@1.0.3
npm error Invalid: lock file's path-to-regexp@0.1.7 does not satisfy path-to-regexp@0.1.12
npm error Invalid: lock file's qs@6.11.0 does not satisfy qs@6.13.0
npm error Invalid: lock file's send@0.18.0 does not satisfy send@0.19.0
npm error Invalid: lock file's serve-static@1.15.0 does not satisfy serve-static@1.16.2
npm error Missing: encodeurl@1.0.2 from lock file
npm error
npm error Clean install a project
npm error
npm error Usage:
npm error npm ci
npm error
npm error Options:
npm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]
npm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]
npm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]
npm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]
npm error [--no-bin-links] [--no-fund] [--dry-run]
npm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]
npm error [-ws|--workspaces] [--include-workspace-root] [--install-links]
npm error
npm error aliases: clean-install, ic, install-clean, isntall-clean
npm error
npm error Run "npm help ci" for more info
npm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-12-31T08_57_49_497Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/f6c1f7b7-633a-4d7f-aeff-9756ef08cb20?project=668221500241.
[debug] [2024-12-31T08:58:13.694Z] Total Function Deployment time: 49047
[debug] [2024-12-31T08:58:13.695Z] 1 Functions Deployed
[debug] [2024-12-31T08:58:13.695Z] 1 Functions Errored
[debug] [2024-12-31T08:58:13.695Z] 0 Function Deployments Aborted
[debug] [2024-12-31T08:58:13.695Z] Average Function Deployment time: 49046
[info] 
[info] Functions deploy had errors with the following functions:
	onGroupWrite(us-central1)
[info] i  functions: cleaning up build files... 
[debug] [2024-12-31T08:58:13.912Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_group_write [none]
[debug] [2024-12-31T08:58:13.914Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_activity_create [none]
[debug] [2024-12-31T08:58:13.917Z] >>> [apiv2][query] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list [none]
[debug] [2024-12-31T08:58:14.568Z] <<< [apiv2][status] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list 404
[debug] [2024-12-31T08:58:14.568Z] <<< [apiv2][body] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-12-31T08:58:14.570Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-12-31T08:58:14.573Z] >>> [apiv2][query] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list [none]
[debug] [2024-12-31T08:58:14.967Z] <<< [apiv2][status] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list 404
[debug] [2024-12-31T08:58:14.967Z] <<< [apiv2][body] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-12-31T08:58:14.967Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[debug] [2024-12-31T08:58:15.070Z] >>> [apiv2][query] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list [none]
[debug] [2024-12-31T08:58:15.467Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_activity_create 404
[debug] [2024-12-31T08:58:15.467Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_activity_create {"error":{"code":404,"message":"Package \"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_activity_create\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-12-31T08:58:15.468Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_group_write 404
[debug] [2024-12-31T08:58:15.468Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_group_write {"error":{"code":404,"message":"Package \"projects/splito-canoaps/locations/us-central1/repositories/gcf-artifacts/packages/on_group_write\" was not found.","status":"NOT_FOUND"}}
[debug] [2024-12-31T08:58:15.486Z] <<< [apiv2][status] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list 404
[debug] [2024-12-31T08:58:15.486Z] <<< [apiv2][body] GET https://us.gcr.io/v2/splito-canoaps/gcf/us-central1/tags/list {"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}]}
[debug] [2024-12-31T08:58:15.487Z] Failed docker command with error  HTTP Error: 404, Not Found {"name":"FirebaseError","children":[],"context":{"body":{"errors":[{"code":"NAME_UNKNOWN","message":"Repository \"us.gcr.io\" not found"}],"error":{"message":"Not Found"}},"response":{"statusCode":404}},"exit":1,"message":"HTTP Error: 404, Not Found","status":404}
[warn] ⚠  functions: Unhandled error cleaning up build images. This could result in a small monthly bill if not corrected. You can attempt to delete these images by redeploying or you can delete them manually at https://console.cloud.google.com/gcr/images/splito-canoaps/us/gcf 
[debug] [2024-12-31T08:58:15.488Z] Functions deploy failed.
[debug] [2024-12-31T08:58:15.489Z] {
  "endpoint": {
    "id": "onGroupWrite",
    "project": "splito-canoaps",
    "region": "us-central1",
    "entryPoint": "onGroupWrite",
    "platform": "gcfv2",
    "runtime": "nodejs18",
    "eventTrigger": {
      "eventType": "google.cloud.firestore.document.v1.written",
      "retry": false,
      "eventFilters": {
        "database": "(default)",
        "namespace": "(default)"
      },
      "eventFilterPathPatterns": {
        "document": "groups/{groupId}"
      },
      "region": "asia-south1"
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "ingressSettings": null,
    "availableMemoryMb": null,
    "serviceAccount": null,
    "timeoutSeconds": null,
    "maxInstances": null,
    "minInstances": null,
    "concurrency": 80,
    "vpc": null,
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"splito-canoaps\",\"storageBucket\":\"splito-canoaps.appspot.com\",\"locationId\":\"asia-south1\"}",
      "GCLOUD_PROJECT": "splito-canoaps",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/splito-canoaps/locations/us-central1/services/onGroupWrite",
      "FUNCTION_SIGNATURE_TYPE": "cloudevent",
      "FUNCTION_TARGET": "onGroupWrite",
      "LOG_EXECUTION_ID": "true"
    },
    "codebase": "default",
    "runServiceId": "ongroupwrite",
    "cpu": 1,
    "securityLevel": "SECURE_ALWAYS",
    "targetedByOnly": true,
    "hash": "d0ad0caaa21faf0797926dc92c9796f65d8f9d82"
  },
  "op": "update",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "exit": 1,
    "message": "Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's firebase-admin@12.4.0 does not satisfy firebase-admin@12.7.0\nnpm error Invalid: lock file's firebase-functions@5.1.1 does not satisfy firebase-functions@6.2.0\nnpm error Invalid: lock file's @firebase/database-compat@1.0.7 does not satisfy @firebase/database-compat@1.0.8\nnpm error Invalid: lock file's @firebase/database-types@1.0.4 does not satisfy @firebase/database-types@1.0.5\nnpm error Invalid: lock file's @firebase/component@0.6.8 does not satisfy @firebase/component@0.6.9\nnpm error Invalid: lock file's @firebase/database@1.0.7 does not satisfy @firebase/database@1.0.8\nnpm error Invalid: lock file's @firebase/util@1.9.7 does not satisfy @firebase/util@1.10.0\nnpm error Invalid: lock file's tslib@2.7.0 does not satisfy tslib@2.8.1\nnpm error Invalid: lock file's @types/express@4.17.3 does not satisfy @types/express@4.17.21\nnpm error Invalid: lock file's express@4.19.2 does not satisfy express@4.21.2\nnpm error Invalid: lock file's body-parser@1.20.2 does not satisfy body-parser@1.20.3\nnpm error Invalid: lock file's cookie@0.6.0 does not satisfy cookie@0.7.1\nnpm error Invalid: lock file's encodeurl@1.0.2 does not satisfy encodeurl@2.0.0\nnpm error Invalid: lock file's finalhandler@1.2.0 does not satisfy finalhandler@1.3.1\nnpm error Invalid: lock file's merge-descriptors@1.0.1 does not satisfy merge-descriptors@1.0.3\nnpm error Invalid: lock file's path-to-regexp@0.1.7 does not satisfy path-to-regexp@0.1.12\nnpm error Invalid: lock file's qs@6.11.0 does not satisfy qs@6.13.0\nnpm error Invalid: lock file's send@0.18.0 does not satisfy send@0.19.0\nnpm error Invalid: lock file's serve-static@1.15.0 does not satisfy serve-static@1.16.2\nnpm error Missing: encodeurl@1.0.2 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-12-31T08_57_49_497Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/f6c1f7b7-633a-4d7f-aeff-9756ef08cb20?project=668221500241.",
    "original": {
      "code": 3,
      "message": "Build failed with status: FAILURE and message: npm error code EUSAGE\nnpm error\nnpm error `npm ci` can only install packages when your package.json and package-lock.json or npm-shrinkwrap.json are in sync. Please update your lock file with `npm install` before continuing.\nnpm error\nnpm error Invalid: lock file's firebase-admin@12.4.0 does not satisfy firebase-admin@12.7.0\nnpm error Invalid: lock file's firebase-functions@5.1.1 does not satisfy firebase-functions@6.2.0\nnpm error Invalid: lock file's @firebase/database-compat@1.0.7 does not satisfy @firebase/database-compat@1.0.8\nnpm error Invalid: lock file's @firebase/database-types@1.0.4 does not satisfy @firebase/database-types@1.0.5\nnpm error Invalid: lock file's @firebase/component@0.6.8 does not satisfy @firebase/component@0.6.9\nnpm error Invalid: lock file's @firebase/database@1.0.7 does not satisfy @firebase/database@1.0.8\nnpm error Invalid: lock file's @firebase/util@1.9.7 does not satisfy @firebase/util@1.10.0\nnpm error Invalid: lock file's tslib@2.7.0 does not satisfy tslib@2.8.1\nnpm error Invalid: lock file's @types/express@4.17.3 does not satisfy @types/express@4.17.21\nnpm error Invalid: lock file's express@4.19.2 does not satisfy express@4.21.2\nnpm error Invalid: lock file's body-parser@1.20.2 does not satisfy body-parser@1.20.3\nnpm error Invalid: lock file's cookie@0.6.0 does not satisfy cookie@0.7.1\nnpm error Invalid: lock file's encodeurl@1.0.2 does not satisfy encodeurl@2.0.0\nnpm error Invalid: lock file's finalhandler@1.2.0 does not satisfy finalhandler@1.3.1\nnpm error Invalid: lock file's merge-descriptors@1.0.1 does not satisfy merge-descriptors@1.0.3\nnpm error Invalid: lock file's path-to-regexp@0.1.7 does not satisfy path-to-regexp@0.1.12\nnpm error Invalid: lock file's qs@6.11.0 does not satisfy qs@6.13.0\nnpm error Invalid: lock file's send@0.18.0 does not satisfy send@0.19.0\nnpm error Invalid: lock file's serve-static@1.15.0 does not satisfy serve-static@1.16.2\nnpm error Missing: encodeurl@1.0.2 from lock file\nnpm error\nnpm error Clean install a project\nnpm error\nnpm error Usage:\nnpm error npm ci\nnpm error\nnpm error Options:\nnpm error [--install-strategy <hoisted|nested|shallow|linked>] [--legacy-bundling]\nnpm error [--global-style] [--omit <dev|optional|peer> [--omit <dev|optional|peer> ...]]\nnpm error [--include <prod|dev|optional|peer> [--include <prod|dev|optional|peer> ...]]\nnpm error [--strict-peer-deps] [--foreground-scripts] [--ignore-scripts] [--no-audit]\nnpm error [--no-bin-links] [--no-fund] [--dry-run]\nnpm error [-w|--workspace <workspace-name> [-w|--workspace <workspace-name> ...]]\nnpm error [-ws|--workspaces] [--include-workspace-root] [--install-links]\nnpm error\nnpm error aliases: clean-install, ic, install-clean, isntall-clean\nnpm error\nnpm error Run \"npm help ci\" for more info\nnpm error A complete log of this run can be found in: /www-data-home/.npm/_logs/2024-12-31T08_57_49_497Z-debug-0.log. For more details see the logs at https://console.cloud.google.com/cloud-build/builds;region=us-central1/f6c1f7b7-633a-4d7f-aeff-9756ef08cb20?project=668221500241."
    },
    "status": 3,
    "code": 3
  }
}
[debug] [2024-12-31T08:58:15.580Z] Error: Failed to update function onGroupWrite in region us-central1
    at /opt/homebrew/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:399:19
    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)
    at async Fabricator.updateV2Function (/opt/homebrew/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:388:32)
    at async Fabricator.updateEndpoint (/opt/homebrew/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:155:13)
    at async handle (/opt/homebrew/lib/node_modules/firebase-tools/lib/deploy/functions/release/fabricator.js:89:17)
[error] 
[error] Error: There was an error deploying functions
